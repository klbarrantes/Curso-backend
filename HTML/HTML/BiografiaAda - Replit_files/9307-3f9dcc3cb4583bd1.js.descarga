"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9307],{83188:function(e,t,n){n.d(t,{Z:function(){return l},c:function(){return r}});var r="https://twitter.com/intent/tweet";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=e.url,l=e.hashtags,i=e.via,o=new URLSearchParams;t&&o.append("text",t),n&&o.append("url",n),l&&o.append("hashtags",l.join(",")),i&&o.append("via",i);var a=o.toString();return a.length>0?"".concat(r,"?").concat(a):r}},39307:function(e,t,n){n.d(t,{Z:function(){return rn}});var r=n(57389),l=n(94660),i=n(59496),o=n(19666),a=n(24615),s=n(58530),u=n(24880),c=n(57135),d=n(72006),p=n(4405),h=n(2272),f=n(96583),g=n(69735),v=n(44079),m=n(71326),Z=n(24410),b=n(10430),w=n(3169),y=n(66091),R=n(5683),x=n(83451),C=n(45347),G=n(3341),S=n.n(G),T=n(74296),V=n(43119),B=n(71440),I=n(53486);function k(){var e=(0,V.Z)(["\n  query ReplPublishInputRepl($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}var P={},F=(0,B.Ps)(k(),a.FW);var _=n(75408),U=n(26006),E=n(51458),D=n(46653);function W(){var e=(0,V.Z)(["\n  mutation UpdateReplUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}var X={},H=(0,B.Ps)(W(),a.FW);function L(e){return e.message||"Something went wrong saving updates to your Repl"}function A(){var e=(0,h.Z)(function(e){var t=(0,d.Z)({},X,e);return D.D(H,t)}(),2),t=e[0],n=e[1];function r(){return(r=(0,c.Z)((function(e){return(0,f.__generator)(this,(function(r){switch(r.label){case 0:if(n.loading)return[2,{data:null,error:null}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:r.sent().data,error:null}];case 3:return[2,{data:null,error:L(r.sent())}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:n.data,loading:n.loading,error:n.error&&L(n.error),updateRepl:function(e){return r.apply(this,arguments)}}}function z(){var e=(0,V.Z)(["\n  mutation SetReplViewSettingsSetSettings($input: SetReplViewSettingsInput!) {\n    setReplViewSettings(input: $input) {\n      ... on ReplViewSettings {\n        id\n        repl {\n          id\n          ...PublishReplData\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return z=function(){return e},e}var M={},N=(0,B.Ps)(z(),a.FW);function O(e){var t,n,r,l,i,o,a;return e.error?e.error.message||"Something went wrong saving your Cover page":"NotFoundError"===(null===(t=e.data)||void 0===t||null===(n=t.setReplViewSettings)||void 0===n?void 0:n.__typename)||"UnauthorizedError"===(null===(r=e.data)||void 0===r||null===(l=r.setReplViewSettings)||void 0===l?void 0:l.__typename)||"UserError"===(null===(i=e.data)||void 0===i||null===(o=i.setReplViewSettings)||void 0===o?void 0:o.__typename)?e.data.setReplViewSettings.message:(null===(a=e.data)||void 0===a?void 0:a.setReplViewSettings)&&"ReplViewSettings"!==e.data.setReplViewSettings.__typename?"Something went wrong saving your Cover page":void 0}function K(){var e=(0,h.Z)(function(e){var t=(0,d.Z)({},M,e);return D.D(N,t)}(),2),t=e[0],n=e[1];function r(){return(r=(0,c.Z)((function(e){var r;return(0,f.__generator)(this,(function(l){switch(l.label){case 0:if(n.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:(r=l.sent()).data,error:O(r)}];case 3:return l.sent(),[2,{data:null,error:"Something went wrong saving your Cover page"}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:n.data,loading:n.loading,error:O(n),setReplViewSettings:function(e){return r.apply(this,arguments)}}}function j(){var e=(0,V.Z)(["\n  mutation UseSetReplTagsSetTags($input: SetReplTagsInput!) {\n    setReplTags(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return j=function(){return e},e}var $={},Y=(0,B.Ps)(j(),a.FW);function q(e){var t,n,r,l,i,o,a;return e.error?e.error.message||"Something went wrong saving your Repl Tags":"NotFoundError"===(null===(t=e.data)||void 0===t||null===(n=t.setReplTags)||void 0===n?void 0:n.__typename)||"UnauthorizedError"===(null===(r=e.data)||void 0===r||null===(l=r.setReplTags)||void 0===l?void 0:l.__typename)||"UserError"===(null===(i=e.data)||void 0===i||null===(o=i.setReplTags)||void 0===o?void 0:o.__typename)?e.data.setReplTags.message:(null===(a=e.data)||void 0===a?void 0:a.setReplTags)&&"Repl"!==e.data.setReplTags.__typename?"Something went wrong posting your Repl":void 0}function Q(){var e=(0,h.Z)(function(e){var t=(0,d.Z)({},$,e);return D.D(Y,t)}(),2),t=e[0],n=e[1];function r(){return(r=(0,c.Z)((function(e){var r;return(0,f.__generator)(this,(function(l){switch(l.label){case 0:if(n.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:(r=l.sent()).data,error:q(r)}];case 3:return l.sent(),[2,{data:null,error:"Something went wrong saving your Repl Tags"}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:n.data,loading:n.loading,error:q(n),setReplTags:function(e){return r.apply(this,arguments)}}}var J,ee=n(37285),te=n(37249),ne=n(10063),re=1e3;function le(e){return"repl_file"===e||"repl_image"===e}!function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(J||(J={}));var ie=function(e){(0,R.Z)(n,e);var t=(0,C.Z)(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return n}((0,x.Z)(Error)),oe=function(e){(0,R.Z)(n,e);var t=(0,C.Z)(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return n}((0,x.Z)(Error)),ae=function(e){(0,R.Z)(n,e);var t=(0,C.Z)(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return n}((0,x.Z)(Error));function se(e){return e?e.length>60?{message:"Title should not be more than ".concat(60," characters")}:void 0:{message:"Give your Repl a title"}}function ue(e){return e?e.length>re?{message:"Description should not be more than ".concat(re," characters")}:void 0:{message:"What does this Repl do?"}}function ce(e){var t,n,r,l,o,a=(0,_.Y)(e.replId||null,(function(e){return e?null:{message:"Select a Repl to share"}})),s=function(e){var t=(0,d.Z)({},P,e);return I.a(F,t)}({variables:{id:a.value||""},skip:!a.value}),u="Repl"===(null===(t=s.data)||void 0===t?void 0:t.repl.__typename)?s.data.repl:null,p=Boolean(null===u||void 0===u?void 0:u.publishedAs),h=(0,_.Y)("",se),g=(0,_.Y)("",ue),v=(0,_.Y)(null,(function(){return null})),m=(0,_.Y)(J.ReplImage,(function(){return null})),Z=(0,_.Y)(null,(function(){return null})),b=(0,_.Y)("",e.fileValidator),w=(0,_.Y)([],(function(){return null})),y=(0,E.Z)(u),R=(0,_.Y)(!1,(function(e){var t=y.current;return e&&(null===t||void 0===t?void 0:t.lastPublishedAt)?{message:"This Repl has already been published. Please unpublish before publishing as a Template."}:e||(null===t||void 0===t?void 0:t.publishedAs)!==T.O2.Template?void 0:{message:"This Repl has already been published as a Template. Please unpublish before publishing as a Repl."}})),x=[a,h,g,v,m,Z,w,b,R],C=K(),G=Q(),V=A(),B=(0,ee.O)(),k=(0,te.r)(),D=(null===u||void 0===u||null===(n=u.replViewSettings)||void 0===n?void 0:n.defaultView)&&le(u.replViewSettings.defaultView)?u.replViewSettings.defaultView:J.ReplImage,W=(0,E.Z)(h.setValue),X=(0,E.Z)(g.setValue),H=(0,E.Z)(w.setValue),L=(0,E.Z)(v.setValue),z=(0,E.Z)(Z.setValue),M=(0,E.Z)(m.setValue),N=(0,E.Z)(b.setValue),O=(0,E.Z)(R.setValue);(0,i.useEffect)((function(){var e,t,n,r;u&&(O.current("Template"===u.publishedAs),M.current(D),N.current(null!==(t=null===(e=u.replViewSettings)||void 0===e?void 0:e.replFile)&&void 0!==t?t:""),W.current(u.isRenamed?u.title:"",{preventTouch:!0}),X.current(null!==(n=u.description)&&void 0!==n?n:"",{preventTouch:!0}),H.current(u.tags),L.current(u.iconUrl.endsWith(".svg")?null:u.iconUrl),z.current(null!==(r=u.imageUrl)&&void 0!==r?r:null))}),[u,z,L,H,W,X,D,M,N,O]);var j,$=(0,U.W)(v.setValue),Y=$.previewUrl||v.value||(null===u||void 0===u?void 0:u.iconUrl)||(null===u||void 0===u?void 0:u.templateInfo.iconUrl),q=null!==(j=null===(r=x.filter((function(e){return(e!==b||m.value===J.ReplFile)&&e.error})))||void 0===r||null===(l=r[0])||void 0===l||null===(o=l.error)||void 0===o?void 0:o.message)&&void 0!==j?j:null;function re(){return re=(0,c.Z)((function(){var e,t,n,r,l,i,o,a,s,c,d;return(0,f.__generator)(this,(function(p){switch(p.label){case 0:if(!u)throw new ie("Missing repl");if(t=u.title!==h.value,n=u.description!==g.value,r=u.iconUrl!==v.value,l="repl_image"===m.value&&u.imageUrl!==Z.value,i=b.value&&"repl_file"===m.value&&(null===(e=u.replViewSettings)||void 0===e?void 0:e.replFile)!==b.value,o=m.value&&D!==m.value,a=!S()(u.tags,w.value),!(t||n||r))return[3,2];if(h.error||g.error||v.error)throw new ie;return[4,V.updateRepl({id:u.id,title:t?h.value:void 0,description:n?g.value:void 0,iconUrl:r?v.value:void 0})];case 1:if((s=p.sent()).error)throw new oe(s.error);p.label=2;case 2:if(!(o||l||i))return[3,4];if(m.value===J.ReplImage&&Z.error||m.value===J.ReplFile&&b.error)throw new ie;return[4,C.setReplViewSettings({replId:u.id,defaultView:"repl_image"===m.value?T.bV.ReplImage:T.bV.ReplFile,replImage:l?Z.value:void 0,replFile:i?b.value:void 0})];case 3:if((c=p.sent()).error)throw new oe(c.error);p.label=4;case 4:if(!a)return[3,6];if(w.error)throw new ie;return[4,G.setReplTags({replId:u.id,tags:w.value.map((function(e){return e.id}))})];case 5:if((d=p.sent()).error)throw new oe(d.error);p.label=6;case 6:return[2]}}))})),re.apply(this,arguments)}function ce(){return(ce=(0,c.Z)((function(){var t,n;return(0,f.__generator)(this,(function(r){switch(r.label){case 0:if(!u)throw new ie("Missing repl");if(q)throw new ie(null!==q&&void 0!==q?q:"Something went wrong");return R.value?[4,k.createDeployment({input:{replId:u.id,description:g.value,iconUrl:Y||u.iconUrl}})]:[3,2];case 1:if((t=r.sent()).error)throw new ae(t.error);return(0,ne.j)(ne.U3.POST_MADE,{source:e.source,replType:"template_repl",title:h.value,description:g.value,tags:w.value.map((function(e){return e.id})),defaultView:m.value}),[2];case 2:return[4,B.publish({input:{replId:u.id}})];case 3:if((n=r.sent()).error)throw new ae(n.error);return(0,ne.j)(ne.U3.POST_MADE,{source:e.source,replType:"regular_repl",title:h.value,description:g.value,tags:w.value.map((function(e){return e.id})),defaultView:m.value}),[2]}}))}))).apply(this,arguments)}var de=V.loading||C.loading||G.loading,pe=V.error||C.error||G.error,he=B.loading||k.loading,fe=B.error||k.error;return{selectedRepl:u,isReplLoading:s.loading,replLoadingError:s.error,replIdField:a,replTitleField:h,replDescriptionField:g,iconUrlField:v,coverDefaultViewField:m,coverUrlField:Z,coverFileField:b,tagsField:w,isTemplateField:R,replIconInput:$,replIconUrl:Y,inputError:q,save:function(){return re.apply(this,arguments)},isSaving:de,savingError:pe,publish:function(){return ce.apply(this,arguments)},isPublishing:he,publishingError:fe,isPublished:p}}var de=i.createContext(null),pe=function(e){var t=i.useContext(de);if(!t)throw new Error("usePublishField must be used within a PublishInputContext");return t["".concat(e,"Field")]},he=function(){var e=i.useContext(de);if(!e)throw new Error("usePublishForm must be used within a PublishInputContext");return e},fe=n(9970),ge=n(7330),ve=n(43819),me=n(72030),Ze=n(74840),be=n(69694),we=n(63463),ye=n(36273);function Re(){var e=(0,V.Z)(["\n  fragment TagsComboboxTag on Tag {\n    id\n    isOfficial\n  }\n"]);return Re=function(){return e},e}function xe(){var e=(0,V.Z)(["\n  query TagsCombobox($limit: Int, $search: String) {\n    tagGroups {\n      official(limit: $limit, search: $search) {\n        id\n        ...TagsComboboxTag\n      }\n      community(limit: $limit, search: $search) {\n        id\n        ...TagsComboboxTag\n      }\n    }\n  }\n  ","\n"]);return xe=function(){return e},e}var Ce={},Ge=(0,B.Ps)(Re()),Se=(0,B.Ps)(xe(),Ge);var Te=n(43004),Ve=n(14810),Be=n(97028),Ie=/^[0-9a-zA-Z]+$/,ke=function(e){return e.id};function Pe(e){var t=e.search,n=e.filter,r=function(e){var t=(0,d.Z)({},Ce,e);return I.a(Se,t)}({variables:{limit:t?10:3,search:t}}).data,l=(0,i.useState)({official:[],community:[],newTag:[]}),o=l[0],a=l[1],s=(0,i.useMemo)((function(){if(r){var e=[],l=[],i=new Set,o=!0,a=!1,s=void 0;try{for(var u,c=r.tagGroups.official[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;i.add(d.id.toLowerCase()),n(d)&&e.push(d)}}catch(w){a=!0,s=w}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}var p=!0,h=!1,f=void 0;try{for(var g,v=r.tagGroups.community[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var m=g.value;i.add(m.id.toLowerCase()),n(m)&&l.push(m)}}catch(w){h=!0,f=w}finally{try{p||null==v.return||v.return()}finally{if(h)throw f}}var Z=l.find((function(e){return e.id===t})),b=!t||Z||i.has(t.toLowerCase())?void 0:{id:t,isOfficial:!1};return{official:e,community:l,newTag:b&&n(b)?[b]:[]}}}),[r,n,t]);return(0,i.useEffect)((function(){if(s){var e=s.official,t=s.community,n=s.newTag;a((function(r){return{official:(0,Be.Z)(e,{existing:r.official,getKey:ke}),community:(0,Be.Z)(t,{existing:r.community,getKey:ke}),newTag:n}}))}}),[s]),{tagGroups:o,reset:function(){a({official:[],community:[],newTag:[]})}}}var Fe=n(4817),_e=n(41122),Ue=n(62507),Ee=o.K.ul,De=o.K.li;function We(e){var t=e.children;return(0,l.tZ)(o.G,{css:[ge.l0.px(8),ge.l0.pt(8)],children:(0,l.tZ)(we.xv,{css:[{textTransform:"uppercase"}],variant:"small",color:"dimmer",children:t})})}function Xe(e){var t=e.highlighted,n=e.tag;return(0,l.tZ)(o.G,{css:[ge.l0.rowWithGap(8),ge.l0.p(8),t&&{backgroundColor:Fe.gU.listItem[":not([disabled])"][":not(textarea):active"].backgroundColor},{cursor:"pointer"}],children:(0,l.BX)(o.G,{css:[ge.l0.flex.growAndShrink(1),ge.l0.rowWithGap(4)],children:[(0,l.tZ)(we.xv,{children:n.id}),n.isOfficial?(0,l.tZ)(Ue.Z,{}):null]})})}var He=i.memo((function(e){var t=e.getItemProps,n=e.highlightedIndex,r=e.data;return(0,l.tZ)(_e.Z,{css:[ge.l0.minWidth(200)],children:r.sections.reduce((function(e,r){return e.sections.push((0,l.BX)(De,{children:[(0,l.tZ)(We,{children:r.title}),(0,l.tZ)(Ee,{css:[ge.l0.pt(4),ge.l0.pb(8)],children:r.tags.map((function(r){var i=e.itemIndex++;return(0,l.tZ)(De,(0,p.Z)((0,d.Z)({},t({item:r,index:i})),{children:(0,l.tZ)(Xe,{tag:r,highlighted:n===i})}),r.id)}))})]},r.title)),e}),{sections:[],itemIndex:0}).sections})})),Le=o.K.div,Ae=o.K.input,ze=(0,me.iv)([ge.l0.fontSize(12),ge.l0.pl(24),ge.l0.pr(8),ge.l0.py(4)]);function Me(){return(0,l.tZ)(we.xv,{css:[ge.l0.px(4),ge.l0.flex.row,ge.l0.align.center,ge.l0.position.absolute,ge.l0.height("100%"),ge.l0.color.foregroundDefault,{top:0,left:4,pointerEvents:"none"}],children:(0,l.tZ)(be.Z,{size:12})})}function Ne(e){var t=e.text,n=e.children;return(0,l.BX)(Ze.T,{elevated:!0,css:[ge.l0.position.relative,ge.l0.minWidth(30),ge.l0.borderRadius(16),{border:"1px solid transparent","&:focus-within":{borderColor:ge.TV.outlineDimmer,backgroundColor:"transparent"}}],children:[(0,l.tZ)(Me,{}),(0,l.tZ)(we.xv,{css:[{visibility:"hidden"},ze],children:t}),n]})}function Oe(e){var t=function(e){var t=e.onRemove,n=e.onSelect,r=e.filter,l=void 0===r?function(){return!0}:r,i=e.inputValue,o=e.setInputValue,a=(0,Ve.Z)(i,100),s=(0,E.Z)(n),u=Pe({search:a,filter:l}),c=u.tagGroups,d=u.reset,p=(0,ye.Kb)({inputValue:i,items:(0,fe.Z)(c.official).concat((0,fe.Z)(c.community),(0,fe.Z)(c.newTag)),defaultHighlightedIndex:0,itemToString:function(e){return e?e.id:""},onSelectedItemChange:function(e){e.selectedItem&&(d(),o(""),p.reset(),p.openMenu())}});return(0,Te.Z)((function(){p.selectedItem&&s.current(p.selectedItem)}),[p.selectedItem]),{tagGroups:c,combobox:p,onChange:function(e){var t=e.currentTarget.value;t&&!Ie.test(t)||t.length>30||o(t)},onKeyDown:function(e){""===i&&"Backspace"===e.key&&(e.preventDefault(),t())}}}(e),n=t.combobox,r=t.tagGroups,a=t.onChange,s=t.onKeyDown,u=(0,i.useMemo)((function(){return function(e){var t=[];return e.official.length&&t.push({title:"Official Tags",tags:e.official}),e.community.length&&t.push({title:"Community Tags",tags:e.community}),e.newTag.length&&t.push({title:"Create new tag",tags:e.newTag}),0===t.length?null:{type:"sections",sections:t}}(r)}),[r]),c="Add tag";return(0,l.BX)(o.G,{children:[(0,l.tZ)(Le,(0,p.Z)((0,d.Z)({},n.getComboboxProps()),{css:[ge.l0.flex.row],children:(0,l.tZ)(Ne,{text:n.inputValue||c,children:(0,l.tZ)(Ae,(0,d.Z)({css:[ge.l0.coverContainer,ze,ge.l0.color.foregroundDefault,{backgroundColor:"transparent","&::placeholder":ge.l0.color.foregroundDefault,"&:focus::placeholder":ge.l0.color.foregroundDimmest}]},n.getInputProps({placeholder:c,onChange:a,onKeyDown:s,onFocus:function(){n.openMenu()}})))})})),(0,l.tZ)(Le,(0,p.Z)((0,d.Z)({},n.getMenuProps()),{css:[ge.l0.position.relative],children:u&&n.isOpen?(0,l.tZ)(He,{getItemProps:n.getItemProps,highlightedIndex:n.highlightedIndex,data:u}):null}))]})}function Ke(e){var t=e.tags,n=e.max,r=void 0===n?5:n,a=e.onAdd,s=e.onRemove,u=t.map((function(e){return e.id})),c=(0,i.useState)(""),d=c[0],p=c[1];return(0,l.BX)(o.G,{css:[ge.l0.flex.row,ge.l0.flex.wrap,{margin:"calc(-1 * ".concat(ge.TV.space4,")")}],children:[t.map((function(e,t){return(0,l.tZ)(o.G,{css:[ge.l0.m(4)],children:(0,l.tZ)(ve.g,{small:!0,tag:e,onClick:function(){return s(t)}})},e.id)})),t.length<r?(0,l.tZ)(o.G,{css:[ge.l0.m(4)],children:(0,l.tZ)(Oe,{onSelect:a,filter:function(e){return!u.includes(e.id.toLowerCase())},inputValue:d,setInputValue:p,onRemove:function(){var e=t.length-1;e>=0&&(p(t[e].id),s(e))}})}):null]})}var je=function(){var e=pe("tags");return(0,l.BX)(s.G7,{css:[s.l0.colWithGap(8)],children:[(0,l.tZ)(s.G7,{css:[s.l0.colWithGap(4)],children:(0,l.tZ)(Ke,{max:5,tags:e.value,onAdd:function(t){return e.setValue((0,fe.Z)(e.value).concat([t]))},onRemove:function(t){return e.setValue((0,fe.Z)(e.value.slice(0,t)).concat((0,fe.Z)(e.value.slice(t+1))))}})}),(0,l.BX)(s.G7,{css:s.l0.rowWithGap(4),children:[(0,l.tZ)(s.xv,{color:"dimmer",variant:"small",children:"Adding tags helps others find your Repl."}),(0,l.BX)(s.xv,{color:"dimmest",variant:"small",children:[e.value.length,"/",5]})]})]})};function $e(){var e=(0,V.Z)(["\n  fragment PublishableReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n  }\n"]);return $e=function(){return e},e}function Ye(){var e=(0,V.Z)(["\n  query PublishableReplSelector($search: String!) {\n    currentUser {\n      id\n      publishableReplSearch(search: $search) {\n        id\n        ...PublishableReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return Ye=function(){return e},e}var qe={},Qe=(0,B.Ps)($e()),Je=(0,B.Ps)(Ye(),Qe);var et=n(31641),tt=n(89323),nt=n(72335),rt=n(95360),lt=n(93987),it=n(34646),ot=o.K.div,at=o.K.li,st={searchValue:"",loading:!1,repls:[]};function ut(e,t){switch(t.type){case"data":var n,r=(null===(n=t.data.currentUser)||void 0===n?void 0:n.publishableReplSearch)||[];return(0,p.Z)((0,d.Z)({},e),{loading:!1,repls:(0,Be.Z)(r,{existing:e.repls,getKey:function(e){return e.id}})});case"loading":return(0,p.Z)((0,d.Z)({},e),{loading:!0});case"searchValue":return(0,p.Z)((0,d.Z)({},e),{searchValue:t.searchValue})}}function ct(){var e=(0,i.useReducer)(ut,st),t=e[0],n=e[1],r=function(e){var t=(0,d.Z)({},qe,e);return I.a(Je,t)}({variables:{search:(0,Ve.Z)(t.searchValue,200)},notifyOnNetworkStatusChange:!0,onCompleted:function(e){n({type:"data",data:e})}}).loading;(0,i.useEffect)((function(){r&&n({type:"loading"})}),[r]);var l=(0,i.useCallback)((function(e){return n({type:"searchValue",searchValue:e||""})}),[]);return{repls:t.repls,loading:t.loading,searchValue:t.searchValue,setSearchValue:l}}function dt(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}function pt(e){var t,n=i.useRef(null);(0,it.rf)((function(){var t;e.selectedRepl&&(null===(t=n.current)||void 0===t||t.blur())}),[e.selectedRepl]);var r=(null===(t=e.selectedRepl)||void 0===t?void 0:t.iconUrl)&&e.inputValue&&dt(e.selectedRepl)===e.inputValue?(0,l.tZ)(o.G,{css:[ge.l0.px(8),ge.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:(0,l.tZ)(nt.ZP,{alt:e.selectedRepl.title,iconUrl:e.selectedRepl.iconUrl,size:16})}):null;return(0,l.BX)(o.G,{css:[{position:"relative"}],children:[(0,l.BX)(ot,(0,p.Z)((0,d.Z)({},e.getComboboxProps()),{css:{position:"relative"},children:[r,(0,l.tZ)(et.II,(0,d.Z)({css:[ge.l0.pr(32),r&&ge.l0.pl(32)]},e.getInputProps({placeholder:"Search for a Repl",onFocus:e.onFocus,ref:n}))),(0,l.tZ)(o.G,{css:[ge.l0.center,ge.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:e.loading&&e.isOpen?(0,l.tZ)(u.Z,{}):(0,l.tZ)(rt.Z,{})})]})),(0,l.tZ)(ot,(0,p.Z)((0,d.Z)({},e.getMenuProps()),{css:{position:"relative"},children:e.isOpen?(0,l.BX)(_e.Z,{children:[e.loading&&0===e.repls.length?(0,l.tZ)(at,{css:[ge.l0.center,ge.l0.py(32)],children:(0,l.tZ)(u.Z,{})}):null,e.loading||0!==e.repls.length?null:(0,l.tZ)(at,{css:[ge.l0.center,ge.l0.py(32)],children:(0,l.tZ)(we.xv,{color:"dimmer",variant:"small",children:"No Repls found"})}),e.repls.map((function(t,n){return(0,l.tZ)(at,(0,p.Z)((0,d.Z)({},e.getItemProps({item:t,index:n})),{children:(0,l.tZ)(lt.Z,{taller:!0,filter:"",title:dt(t),subtitle:(0,tt.F)(t.timeUpdated),selected:e.selectedRepl===t,highlighted:e.highlightedIndex===n,icon:t.iconUrl?(0,l.tZ)(nt.ZP,{iconUrl:t.iconUrl,alt:t.title,size:16}):void 0})}),t.id)}))]}):null}))]})}var ht=n(44135);function ft(e){var t=e.error,n=e.dataCy;return t?(0,l.BX)(s.G7,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:[(0,l.tZ)(g.Z,{css:[s.l0.color.accentNegativeStronger]}),(0,l.tZ)(s.xv,{multiline:!0,css:[s.l0.flex.growAndShrink(1),s.l0.color.accentNegativeStronger],dataCy:n,children:t.message})]}):null}var gt=s.KD.label,vt=i.forwardRef((function(e,t){return(0,l.tZ)(gt,(0,p.Z)((0,d.Z)({},e),{ref:t,css:s.l0.color.foregroundDimmer}))})),mt=function(){var e=(0,ht.H)()("repl"),t=pe("replId"),n=pe("iconUrl"),r=ct(),i=(0,ye.Kb)({id:e,items:r.repls,initialHighlightedIndex:-1,onInputValueChange:function(e){var t=e.inputValue;r.setSearchValue(t)},onSelectedItemChange:function(e){(null===e||void 0===e?void 0:e.selectedItem)&&(t.setValue(e.selectedItem.id),i.closeMenu())},itemToString:dt});return(0,l.BX)(s.G7,{css:[s.l0.colWithGap(4)],children:[(0,l.tZ)(vt,{css:s.l0.color.foregroundDimmer,htmlFor:e,children:"Repl"}),(0,l.tZ)(pt,{getComboboxProps:i.getComboboxProps,getInputProps:i.getInputProps,getItemProps:i.getItemProps,getMenuProps:i.getMenuProps,isOpen:i.isOpen,highlightedIndex:i.highlightedIndex,inputValue:i.inputValue,selectedRepl:i.selectedItem?(0,p.Z)((0,d.Z)({},i.selectedItem),{iconUrl:n.value||i.selectedItem.iconUrl}):void 0,repls:r.repls,loading:r.loading,onFocus:function(e){i.selectedItem&&(e.preventDefault(),e.currentTarget.select(),r.setSearchValue("")),i.openMenu()}})]})},Zt=function(){var e=(0,ht.H)(),t=e("replName"),n=e("replDescription"),r=he(),i=r.replIdField,o=r.replTitleField,a=r.replDescriptionField,u=r.isSaving,c=r.selectedRepl,d=c&&!c.isRenamed?"Default name: ".concat(c.title):"Enter a name for your Repl";return(0,l.BX)(s.G7,{css:[s.l0.colWithGap(16),s.l0.flex.growAndShrink(1)],children:[!i.value||i.touched?(0,l.tZ)(mt,{}):null,(0,l.BX)(s.G7,{css:[s.l0.colWithGap(4)],children:[(0,l.BX)(s.G7,{css:[s.l0.flex.row,s.l0.align.baseline,s.l0.justify.spaceBetween],children:[(0,l.tZ)(vt,{css:[s.l0.color.foregroundDimmer,{lineHeight:s.TV.lineHeightSmall}],htmlFor:t,children:"Repl name"}),(0,l.BX)(s.xv,{css:{color:o.value.length>60?s.TV.accentNegativeStronger:s.TV.foregroundDimmest},children:[o.value.length,"/",60]})]}),(0,l.tZ)(s.II,{id:t,disabled:!i.value||u,value:o.value,onChange:function(e){o.setValue(e.currentTarget.value)},placeholder:d,dataCy:"publish-form-repl-title-input"}),o.touched?(0,l.tZ)(ft,{error:o.error,dataCy:"publish-form-repl-title-error"}):null]}),(0,l.BX)(s.G7,{css:[s.l0.colWithGap(4)],children:[(0,l.BX)(s.G7,{css:[s.l0.flex.row,s.l0.align.baseline,s.l0.justify.spaceBetween],children:[(0,l.tZ)(vt,{css:[s.l0.color.foregroundDimmer,{lineHeight:s.TV.lineHeightSmall}],htmlFor:n,children:"Repl description"}),(0,l.BX)(s.xv,{css:{color:a.value.length>re?s.TV.accentNegativeStronger:s.TV.foregroundDimmest},children:[a.value.length,"/",re]})]}),(0,l.tZ)(s.B,{id:n,value:a.value,disabled:!i.value||u,onChange:function(e){a.setValue(e.currentTarget.value)},placeholder:"What does this Repl do?",css:[s.l0.minHeight(128),s.l0.maxHeight(256),{resize:"vertical"}],dataCy:"publish-form-repl-description-input"}),a.touched?(0,l.tZ)(ft,{error:a.error,dataCy:"publish-form-repl-description-error"}):null]})]})},bt=function(e){var t=e.showPlayButton,n=e.children;return(0,l.BX)("div",{css:{position:"relative",aspectRatio:"".concat(268,"/").concat(164),overflow:"hidden"},children:[(0,l.tZ)("div",{css:{position:"absolute",top:"calc(".concat(18," / ").concat(164," * 100%)"),bottom:"calc(".concat(1," / ").concat(164," * 100%)"),left:"calc(".concat(1," / ").concat(268," * 100%)"),right:"calc(".concat(1," / ").concat(268," * 100%)"),borderBottomLeftRadius:4,borderBottomRightRadius:4,overflow:"hidden"},children:n}),(0,l.BX)("svg",{viewBox:"0 0 268 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:{position:"relative"},children:[(0,l.tZ)("rect",{width:"268",height:"17",fill:s.TV.backgroundDefault}),(0,l.tZ)("rect",{x:"241.5",y:"4.5",width:"22",height:"10",rx:"2",fill:s.TV.accentPositiveDimmer}),(0,l.tZ)("rect",{x:"228.5",y:"4.5",width:"10",height:"10",rx:"2",fill:s.TV.backgroundHighest}),(0,l.tZ)("rect",{x:"4.5",y:"4.5",width:"32",height:"10",rx:"2",fill:s.TV.backgroundHighest}),(0,l.tZ)("rect",{x:"1",y:"18",width:"266",height:"1",fill:s.TV.outlineDimmer}),t?(0,l.tZ)("path",{d:"M142.225 90.5642C142.565 90.7554 142.565 91.2446 142.225 91.4358L127.745 99.5809C127.412 99.7683 127 99.5275 127 99.1451L127 82.8549C127 82.4725 127.412 82.2317 127.745 82.4191L142.225 90.5642Z",fill:s.TV.white}):null,(0,l.tZ)("rect",{x:"1",y:"1",width:"266",height:"162",rx:"4",stroke:s.TV.outlineDimmer,strokeWidth:"1"})]})]})},wt=n(85510),yt=function(e){var t=function(e){var t=i.useRef(null),n={onClick:function(e){var n;return e.preventDefault(),e.stopPropagation(),null===(n=t.current)||void 0===n?void 0:n.click()}};return{inputProps:{onChange:function(t){var n=t.target,r=n.validity,l=n.files;if(r.valid){var i=l?l[0]:null;i&&e(i)}},"aria-hidden":"true",ref:t,accept:wt.W9.join(","),type:"file"},buttonProps:n,inputRef:t}}(e.onFile),n=t.inputProps,r=t.buttonProps;return(0,l.BX)(l.HY,{children:[(0,l.tZ)("input",(0,p.Z)((0,d.Z)({},n),{css:{display:"none"}})),i.cloneElement(e.children,r)]})},Rt=n(5381),xt=n(1540);function Ct(e){return e.slice().sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{file:e,pathDepth:(0,xt.U$)(e)}})).sort((function(e,t){return e.pathDepth-t.pathDepth})).map((function(e){return e.file}))}var Gt=s.KD.ol,St=s.KD.li,Tt=(0,me.iv)([ge.l0.py(4),ge.l0.borderRadius(8),{border:"1px solid ".concat(s.TV.outlineDimmest),borderRadius:s.TV.borderRadius8,backgroundColor:s.vb.interactiveBackground,zIndex:s.n0,maxHeight:300,position:"absolute",overflowY:"auto",width:"100%",left:0,top:s.TV.space8,listStyle:"none"}]),Vt={backgroundColor:s.vb.interactiveBackgroundActive},Bt={backgroundColor:s.TV.accentPrimaryDimmer},It=(0,me.iv)([ge.l0.p(8),{":not([disabled])":{cursor:"pointer",":hover":(0,d.Z)({},Vt),":active":(0,d.Z)({},Bt)}}]);function kt(e){var t=e.fs,n=e.initiallySelectedFile,r=e.onFileSelect,o=e.onClear,a=i.useRef(null),u=function(e){var t=e.fs,n=(0,h.Z)(i.useState({isLoading:!0,error:null,files:[]}),2),r=n[0],l=n[1];return i.useEffect((function(){function e(){return(e=(0,c.Z)((function(){var e,n,r;return(0,f.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.listFiles()];case 1:if((e=i.sent()).error)throw new Error(e.error);return r=Ct(null!==(n=e.files)&&void 0!==n?n:[]),l({isLoading:!1,error:null,files:r}),[3,3];case 2:return i.sent(),l({isLoading:!1,error:"Could not load files",files:[]}),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),(0,d.Z)({},r)}({fs:t}),g=u.isLoading,v=u.files,m=u.error,Z=function(e){var t=e.files,n=e.inputRef,r=e.initiallySelectedFile,l=(0,h.Z)(i.useState(!1),2),o=l[0],a=l[1],s=(0,h.Z)(i.useState(t),2),u=s[0],c=s[1],f=i.useCallback((function(e){return t.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())}))}),[t]),g=(0,ye.Kb)({items:u,isOpen:o,initialInputValue:r,initialSelectedItem:u.find((function(e){return e===r})),onIsOpenChange:function(e){a(Boolean(e.isOpen))},onInputValueChange:function(e){var t;c(f(null!==(t=e.inputValue)&&void 0!==t?t:""))}}),v=i.useCallback((function(){var e;a(!1),null===(e=n.current)||void 0===e||e.blur()}),[n]);return i.useEffect((function(){var e;c(f(null!==(e=g.inputValue)&&void 0!==e?e:""))}),[t,f,g.inputValue]),i.useEffect((function(){g.selectedItem&&v()}),[g.selectedItem,v]),(0,p.Z)((0,d.Z)({},g),{closeMenu:v,items:u})}({files:v,inputRef:a,initiallySelectedFile:n}),b=(0,E.Z)(r);return i.useEffect((function(){Z.selectedItem&&b.current(Z.selectedItem)}),[Z.selectedItem,b]),(0,l.BX)(s.G7,{children:[(0,l.tZ)(s.G7,(0,p.Z)((0,d.Z)({},Z.getComboboxProps({refKey:"innerRef"})),{css:[ge.l0.position.relative],children:(0,l.tZ)(s.E1,(0,p.Z)((0,d.Z)({},Z.getInputProps({onFocus:Z.openMenu,ref:a,refKey:"inputRef",disabled:g,placeholder:"Search your files"})),{onClear:function(){var e;Z.reset(),null===(e=a.current)||void 0===e||e.focus(),o()},loading:g}))})),(0,l.BX)(s.G7,(0,p.Z)((0,d.Z)({},Z.getMenuProps({refKey:"innerRef"})),{css:[ge.l0.position.relative],children:[m?(0,l.tZ)(s.G7,{css:[ge.l0.p(8)],children:(0,l.tZ)(s.xv,{children:"Something went wrong loading your files. Please try again."})}):null,!m&&Z.isOpen?(0,l.tZ)(Gt,{css:[Tt],children:Z.items.length>0?Z.items.map((function(e,t){return(0,l.tZ)(St,(0,p.Z)((0,d.Z)({css:[It,Z.highlightedIndex===t&&Vt,e===Z.selectedItem&&Bt]},Z.getItemProps({item:e,index:t,onClick:function(){Z.closeMenu()}})),{children:(0,l.tZ)(s.xv,{children:e})}),e)})):(0,l.tZ)(St,{css:[ge.l0.p(8)],children:(0,l.BX)(s.xv,{children:['No files found for "',Z.inputValue,'"']})})}):null]}))]})}var Pt=n(55262),Ft=n(4043),_t=[{value:J.ReplImage,text:"Photo"},{value:J.ReplFile,text:"File"}],Ut=function(e){var t=e.fs,n=(0,ht.H)(),r=n("coverPage"),i=he(),o=i.selectedRepl,a=i.coverFileField,u=i.coverUrlField,c=i.coverDefaultViewField,d=(0,U.W)(u.setValue);return(0,l.BX)(s.G7,{css:[s.l0.colWithGap(16)],children:[(0,l.BX)(s.G7,{css:s.l0.colWithGap(12),children:[(0,l.tZ)(s.G7,{css:[s.l0.rowWithGap(8)],children:(0,l.tZ)(s.Ee,{tag:"fieldset",css:[s.l0.rowWithGap(24)],name:r,value:c.value,onChange:function(e){le(e.target.value)&&c.setValue(e.target.value)},children:_t.map((function(e){return(0,l.BX)(s.G7,{css:[s.l0.rowWithGap(8)],children:[(0,l.tZ)(s.Y8,{id:n(e.value),value:e.value}),(0,l.tZ)("label",{htmlFor:n(e.value),children:e.text})]},e.value)}))})}),c.value===J.ReplImage&&(0,l.tZ)(l.HY,{children:(0,l.tZ)(yt,{onFile:function(e){return d.uploadImage(e,Pt.N.ReplCoverImage)},children:(0,l.tZ)(s.zx,{text:"Upload a cover photo",iconLeft:(0,l.tZ)(Rt.Z,{})})})}),c.value===J.ReplFile&&(0,l.BX)(s.G7,{css:[s.l0.colWithGap(8)],children:[(0,l.tZ)(kt,{fs:t,initiallySelectedFile:a.value,onFileSelect:a.setValue,onClear:function(){return a.setValue("")}},null===o||void 0===o?void 0:o.id),(0,l.tZ)(ft,{error:a.error})]})]}),c.value===J.ReplImage&&(0,l.tZ)(bt,{showPlayButton:c.value===J.ReplImage&&!!u.value,children:c.value===J.ReplImage&&u.value?(0,l.tZ)(Ft.y,{src:u.value,alt:"cover"}):null})]})},Et=(n(29847),function(){pe("iconUrl");var e=he(),t=e.replIconInput,n=e.replIconUrl;return(0,l.BX)(s.G7,{css:[s.l0.colWithGap(16),s.l0.align.center],children:[(0,l.BX)(s.G7,{css:[s.l0.colWithGap(8)],children:[(0,l.BX)(s.G7,{css:[s.l0.rowWithGap(8)],children:[(0,l.tZ)(yt,{onFile:function(e){return t.uploadImage(e,Pt.N.ReplIcon)},css:s.l0.backgroundColor.accentNegativeDefault,children:(0,l.tZ)(s.zx,{text:"Upload image",iconLeft:(0,l.tZ)(Rt.Z,{}),css:[s.l0.backgroundColor.backgroundHigher],type:"button",stretch:!0})}),null]}),t.error?(0,l.tZ)(s.G7,{children:(0,l.tZ)(s.E_,{icon:(0,l.tZ)(g.Z,{}),colorway:"negative",text:t.error,closable:!0,closeAction:t.clearError})}):null]}),(0,l.tZ)(nt.LN,{alt:"icon",size:84,iconUrl:n,isLoading:Boolean(t.previewUrl),css:[s.l0.backgroundColor.backgroundHigher]})]})}),Dt=n(56806),Wt=n(2472),Xt=n(76554),Ht=n(80053),Lt=n(82002);function At(e){var t=e.repl,n=e.currentUser,r=(0,h.Z)((0,Lt.qg)(),2),l=r[0],o=r[1],a=(0,Lt.ic)(),s=(0,h.Z)(i.useState((function(){return function(e){var t=e.throwBsod,n=(0,Xt.ZP)({onUnrecoverableError:function(e){t({error:e,origin:"Publish: services/onUnrecoverableError"})}}),r=(0,Wt.Z)({container:n});return{container:n,fs:r,dotReplit:(0,Ht.Z)({container:n,fs:r})}}({throwBsod:o})})),1),u=s[0],c=u.container,d=u.fs,p=u.dotReplit,f=(0,h.Z)(i.useState((function(){return c.getConnectionState()===Xt.em.CONNECTED})),2),g=f[0],v=f[1],m=(0,Dt.b)(t?{repl:t,currentUser:n}:null);return i.useEffect((function(){if(t&&m&&c.getConnectionState()===Xt.em.DISCONNECTED)return c.connect({context:m}),function(){return c.close()}}),[t,c,m]),i.useEffect((function(){var e=c.onConnectionStateChanged((function(e){v(e===Xt.em.CONNECTED)}));return e}),[c]),{isConnected:g,container:c,fs:d,dotReplit:p,bsodId:null===l||void 0===l?void 0:l.eventId,devClearBsod:function(){return a()}}}var zt=n(62239),Mt=n(54129);var Nt=n(56152),Ot=s.KD.button,Kt=function(){return(0,l.tZ)(o.G,{css:[s.l0.flex.row,s.l0.flex.grow(1),{borderTop:"1px solid ".concat(s.TV.outlineDimmest)}]})},jt=function(e){var t=e.isActive,n=e.isComplete,r=e.children,i=e.onClick,o=e.disabled;return(0,l.BX)(Ot,{type:"button",css:[s.l0.reset.button,s.l0.position.relative,s.gU.nofill,t&&s.l0.backgroundColor.backgroundHigher,s.l0.p(4),s.l0.borderRadius(4)],onClick:i,disabled:o,children:[(0,l.tZ)(s.xv,{variant:"small",children:r}),n?(0,l.tZ)(Nt.Z,{size:6,strokeWidth:6,color:s.TV.foregroundDimmer,css:[s.l0.position.absolute,{top:2,right:-2}]}):null]})},$t=n(96810),Yt=function(){var e=pe("isTemplate"),t=(0,ht.H)()("templateCheckbox");return(0,l.BX)(s.G7,{css:[s.l0.colWithGap(8)],children:[(0,l.BX)(s.G7,{css:[s.l0.colWithGap(8)],children:[(0,l.BX)(s.G7,{css:[s.l0.rowWithGap(8)],children:[(0,l.tZ)(s.XZ,{id:t,checked:e.value,onChange:function(t){return e.setValue(t.target.checked)}}),(0,l.tZ)("label",{htmlFor:t,children:"Submit as Template for Review"})]}),(0,l.tZ)(ft,{error:e.error})]}),(0,l.tZ)(s.xv,{variant:"small",color:"dimmer",multiline:!0,children:"This is a good option for Repls meant as starting points for future work."}),(0,l.tZ)(s.xv,{variant:"small",color:"dimmer",multiline:!0,children:"The Replit team will review your Template before it is live on the Templates page."}),(0,l.tZ)(s.G7,{css:[s.l0.align.start],children:(0,l.tZ)(s.ZP,{href:"https://docs.replit.com/programming-ide/how-to-make-a-replit-template",target:"_blank",text:"What makes a good Template?",iconRight:(0,l.tZ)($t.Z,{}),outlined:!0,small:!0})}),(0,l.tZ)(s.G7,{css:[s.l0.pt(16)],children:(0,l.BX)(s.xv,{multiline:!0,children:["Please make sure your Repl abides by the"," ",(0,l.tZ)("a",{href:"https://welcome.moderation.repl.co/#communitystandards",target:"_blank",children:"Replit community rules and guidelines"})," ","before publishing."]})})]})},qt=n(49397),Qt=s.KD.form,Jt=function(e){var t=e.user,n=he(),i=n.selectedRepl,o=n.replTitleField,a=n.replDescriptionField,c=n.replIconUrl,h=n.tagsField,f=n.isTemplateField;return(0,l.BX)(s.Tg,{background:"root",css:[(0,r.Z)({},(0,b.et)("tabletMin"),{display:"flex"}),s.l0.flex.growAndShrink(1),s.l0.p(16),s.l0.colWithGap(12),s.l0.align.center,s.l0.display.none],children:[(0,l.tZ)(s.xv,{variant:"small",color:"dimmer",css:[s.l0.width("100%"),{fontWeight:s.TV.fontWeightMedium}],children:"Preview"}),(0,l.BX)(s.G7,{css:[s.l0.width("100%"),s.l0.maxWidth(432),s.l0.position.relative],children:[(0,l.tZ)(s.G7,{css:{position:"absolute",zIndex:2,inset:0,boxShadow:"inset 0 48px 24px -24px "+s.TV.backgroundRoot+", inset 0 -48px 24px -24px "+s.TV.backgroundRoot}}),(0,l.BX)(s.G7,{css:[s.l0.height(416),s.l0.colWithGap(24),s.l0.justify.center,s.l0.overflow("hidden"),s.l0.backgroundColor.backgroundRoot],children:[(0,l.tZ)(w.O,{}),i&&c?(0,l.tZ)(w.Z,{post:{user:t,repl:(0,p.Z)((0,d.Z)({},i),{title:o.value,iconUrl:c,tags:h.value,description:a.value,isTemplate:f.value})}}):(0,l.tZ)(s.G7,{css:[s.l0.flex.grow(1),s.l0.align.center,s.l0.justify.center],children:(0,l.tZ)(u.Z,{})}),(0,l.tZ)(w.O,{})]})]})]})},en=["Basics","Tags","Icon","Cover page","Publishing"];function tn(e){var t=e.replId,n=e.currentUser,o=e.source,a=function(){var e=(0,c.Z)((function(e){var t;return(0,f.__generator)(this,(function(n){switch(n.label){case 0:if(!L)return[2,{message:"Could not get file"}];if(!e)return[2,{message:"File path cannot be blank"}];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,L.stat(e)];case 2:return(t=n.sent()).exists&&t.type===Mt.Tv.File?[3,4]:[2,{message:"File does not exist"}];case 3:return n.sent(),[2,{message:"Could not get file"}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),p=ce({replId:t,fileValidator:a,source:o}),w=p.selectedRepl,y=p.isReplLoading,R=p.replLoadingError,x=p.replIdField,C=p.replTitleField,G=p.replDescriptionField,S=p.iconUrlField,T=p.tagsField,V=p.coverDefaultViewField,B=p.coverUrlField,I=p.coverFileField,k=p.isTemplateField,P=p.save,F=p.isSaving,_=p.savingError,U=p.publish,D=p.isPublishing,W=p.publishingError,X=p.isPublished,H=At({repl:w,currentUser:n}),L=H.fs,A=H.dotReplit,z=H.bsodId,M=(0,h.Z)(i.useState(0),2),N=M[0],O=M[1],K=en[N],j=N===en.length-1,$=(0,h.Z)(i.useState({show:!1,isUpdate:!1}),2),Y=$[0],q=$[1],Q=(0,h.Z)(i.useState((function(){return Array(en.length).fill(!1)})),2),ee=Q[0],te=Q[1],re=i.useCallback((function(e,t){var n=ee;n[e]=t,te(n)}),[ee]);i.useEffect((function(){p.replTitleField.value&&p.replDescriptionField.value?re(0,!0):re(0,!1),p.tagsField.value.length>0?re(1,!0):re(1,!1),p.iconUrlField.value?re(2,!0):re(2,!1),p.coverDefaultViewField.value===J.ReplImage&&p.coverUrlField.value||p.coverDefaultViewField.value===J.ReplFile&&p.coverFileField.value?re(3,!0):re(3,!1)}),[ee,p,re]);var le=function(e){var t=e.dotReplit,n=(0,h.Z)(i.useState({isLoading:!0,error:null,entryPoint:null}),2),r=n[0],l=n[1];return i.useEffect((function(){function e(){return e=(0,c.Z)((function(){var e,n,r;return(0,f.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.getConfig()];case 1:if((n=i.sent()).error)throw new Error(n.errorMessage);return l({isLoading:!1,error:null,entryPoint:null!==(r=null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.entrypoint)&&void 0!==r?r:null}),[3,3];case 2:return i.sent(),l({isLoading:!1,error:"Could not load .replit config",entryPoint:null}),[3,3];case 3:return[2]}}))})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),(0,d.Z)({},r)}({dotReplit:A});i.useEffect((function(){le.isLoading||!le.entryPoint||I.value||I.setValue(le.entryPoint)}),[le.isLoading,le.entryPoint,I]);var ie=(0,h.Z)(i.useState(!1),2),oe=ie[0],ae=ie[1];i.useEffect((function(){oe||t&&(y||X)||(ae(!0),(0,ne.j)(ne.U3.PUBLISH_SELECTED,{source:o}))}),[oe,o,t,y,X]);var se=(0,E.Z)(Boolean((null===w||void 0===w?void 0:w.publishedAs)||(null===w||void 0===w?void 0:w.lastPublishedAt))),ue=(0,E.Z)(K);if(i.useEffect((function(){return function(){se.current||(0,ne.j)(ne.U3.PUBLISH_FLOW_EXITED,{source:o,lastSectionVisited:ue.current})}}),[o,se,ue]),z)return(0,l.tZ)(zt.Z,{});if(Y.show&&w)return(0,l.tZ)(qt.q,{repl:w,isUpdate:Y.isUpdate});var pe,he={Basics:{hasError:Boolean(x.error||C.error||G.error),isValid:(0,c.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([x.validate(),C.validate(),G.validate()])];case 1:return[2,e.sent().every((function(e){return!e}))]}}))}))},Tags:{hasError:Boolean(T.error),isValid:(0,c.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return[4,T.validate()];case 1:return[2,!e.sent()]}}))}))},Icon:{hasError:Boolean(S.error),isValid:(0,c.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return[4,S.validate()];case 1:return[2,!e.sent()]}}))}))},"Cover page":{hasError:Boolean(V.value===J.ReplImage?B.error:I.error),isValid:(0,c.Z)((function(){var e;return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return V.value!==J.ReplImage?[3,2]:[4,B.validate()];case 1:return e=!t.sent(),[3,4];case 2:return[4,I.validate()];case 3:e=!t.sent(),t.label=4;case 4:return[2,e]}}))}))},Publishing:{hasError:Boolean(k.error),isValid:(0,c.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return[4,k.validate()];case 1:return[2,!e.sent()]}}))}))}},fe=he[K].hasError,ge=he[K].isValid,ve=null!==(pe=en.find((function(e){return he[e].hasError})))&&void 0!==pe?pe:null,me=null;w?R||_||W?me="Something went wrong - please try again":fe&&(me="Please fill out the the form"):me="Please select a Repl";var Ze=Boolean(!w||fe||R||y||F||D),be=Boolean(k.value),we=be?"Submitting...":"Publishing...",ye=be?"Submit Template":"Publish to Community",Re=function(){var e=(0,c.Z)((function(e){var t;return(0,f.__generator)(this,(function(n){switch(n.label){case 0:return(t=Ze)?[3,2]:[4,ge()];case 1:t=!n.sent(),n.label=2;case 2:if(t)return[2];n.label=3;case 3:return n.trys.push([3,5,,6]),[4,P()];case 4:return n.sent(),O(e),[3,6];case 5:return n.sent(),[2];case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,l.tZ)(de.Provider,{value:p,children:(0,l.BX)(s.Tg,{css:[s.l0.borderRadius(8),s.l0.flex.row,s.l0.overflow("hidden"),(0,r.Z)({},(0,b.et)("tabletMax"),{minWidth:850})],background:"default",dataCy:"publish-form-container",children:[(0,l.BX)(s.G7,{css:[s.l0.colWithGap(12),s.l0.p(16),s.l0.minWidth(320),s.l0.flex.growAndShrink(1),(0,r.Z)({},(0,b.et)("tabletMin"),{maxWidth:320})],children:[(0,l.tZ)(s.xv,{variant:"subheadBig",children:X?"Edit Publish Settings":"Publish ".concat(t?"this":"a"," Repl")}),(0,l.BX)(Qt,{onSubmit:function(){var e=(0,c.Z)((function(e){var t,n,r,l,i,o,a;return(0,f.__generator)(this,(function(s){switch(s.label){case 0:if(e.preventDefault(),!j)return[3,13];t=!0,n=!1,r=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),l=en[Symbol.iterator](),s.label=2;case 2:return(t=(i=l.next()).done)?[3,5]:(o=i.value,[4,he[o].isValid()]);case 3:if(!s.sent())return[2];s.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return a=s.sent(),n=!0,r=a,[3,8];case 7:try{t||null==l.return||l.return()}finally{if(n)throw r}return[7];case 8:return X?[3,10]:[4,U()];case 9:return s.sent(),q({show:!0,isUpdate:!1}),[3,12];case 10:return[4,P()];case 11:s.sent(),q({show:!0,isUpdate:!0}),s.label=12;case 12:return[3,14];case 13:Re(N+1),s.label=14;case 14:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),css:[s.l0.colWithGap(16),s.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(s.G7,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:en.map((function(e,t){return(0,l.BX)(i.Fragment,{children:[0!==t&&(0,l.tZ)(Kt,{}),(0,l.tZ)(jt,{isActive:N===t,isComplete:ee[t],onClick:function(){return Re(t)},disabled:Ze,children:e})]},e)}))}),(0,l.BX)(s.G7,{css:s.l0.flex.growAndShrink(1),children:["Basics"===K&&(0,l.tZ)(Zt,{}),"Tags"===K&&(0,l.tZ)(je,{}),"Icon"===K&&(0,l.tZ)(Et,{}),"Cover page"===K&&(0,l.tZ)(Ut,{fs:L}),"Publishing"===K&&(0,l.tZ)(Yt,{})]}),(0,l.BX)(s.G7,{children:[j&&ve&&ve!==K?(0,l.tZ)(s.E_,{colorway:"negative",icon:(0,l.tZ)(g.Z,{}),text:"Please fix error in ".concat(ve," section")}):null,_?(0,l.tZ)(s.E_,{colorway:"negative",icon:(0,l.tZ)(g.Z,{}),text:_}):null,W?(0,l.tZ)(s.E_,{colorway:"negative",icon:(0,l.tZ)(g.Z,{}),text:W}):null]}),(0,l.BX)(s.G7,{css:[s.l0.rowWithGap(8),s.l0.justify.spaceBetween,s.l0.align.center],children:[(0,l.tZ)(s.zx,{css:[0===N&&s.l0.visibility.hidden],type:"button",iconLeft:(0,l.tZ)(m.Z,{}),disabled:Ze,onClick:function(){return Re(N-1)},text:"Back"}),F?(0,l.tZ)(s.G7,{css:[s.l0.rowWithGap(4),s.l0.color.foregroundDimmer],children:(0,l.tZ)(u.Z,{})}):null,(0,l.BX)(s.u,{tooltip:me,placement:"bottom",isDisabled:!me,children:[!j&&(0,l.tZ)(s.zx,{type:"submit",colorway:"primary",iconLeft:(0,l.tZ)(Z.Z,{}),disabled:Ze,text:"Next",dataCy:"publish-form-next-button"}),j&&!X?(0,l.tZ)(s.zx,{type:"submit",colorway:"primary",css:[{boxShadow:"0px 0px 16px 0px ".concat(s.TV.accentPrimaryDimmer," !important")}],iconLeft:(0,l.tZ)(v.Z,{}),disabled:Boolean(Ze||ve),text:D?we:ye,dataCy:"publish-form-publish-button"}):null,j&&X?(0,l.tZ)(s.zx,{type:"submit",colorway:"primary",iconLeft:(0,l.tZ)(v.Z,{}),disabled:Boolean(Ze||ve),text:F?"Saving...":"Save"}):null]})]})]})]}),(0,l.tZ)(Jt,{user:n})]})})}var nn=n(12512);function rn(e){var t,n,i=e.replId,c=e.source,d=(0,a.NH)(),p="CurrentUser"===(null===(t=d.data)||void 0===t||null===(n=t.currentUser)||void 0===n?void 0:n.__typename)?d.data.currentUser:null;return d.loading?(0,l.tZ)(o.G,{css:[s.l0.center,s.l0.p(32),s.l0.width(512),(0,r.Z)({},"@media (max-width: ".concat(nn.j.tabletMin,"px)"),[{width:"100%"}])],children:(0,l.tZ)(u.Z,{})}):d.error||!p?(0,l.tZ)(o.G,{css:[s.l0.center,s.l0.p(32)],children:(0,l.tZ)(s.xv,{children:"Something went wrong, please try again."})}):(0,l.tZ)(tn,{source:c,replId:i,currentUser:p})}},3169:function(e,t,n){n.d(t,{O:function(){return C},Z:function(){return R}});var r=n(72006),l=n(4405),i=n(9970),o=n(94660),a=(n(59496),n(15667)),s=n.n(a),u=n(72030),c=n(63463),d=n(74840),p=n(19666),h=n(7330),f=n(50929),g=n(88654),v=n(72335),m=n(27297),Z=n(9005),b=n(38691),w=p.K.a,y=(0,u.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function R(e){var t=e.post,n=t.repl,i=t.user,a=n.isTemplate?"Template":"Repl";return(0,o.BX)(p.G,{css:h.l0.colWithGap(8),children:[(0,o.BX)(p.G,{css:[h.l0.flex.row,h.l0.align.center,h.l0.justify.spaceBetween],children:[(0,o.tZ)(p.G,{css:[h.l0.flex.row,h.l0.align.center],children:(0,o.BX)(p.G,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,o.tZ)(b.q,{size:24,username:i.username,src:i.image}),(0,o.BX)(p.G,{css:h.l0.rowWithGap(4),children:[(0,o.tZ)(c.xv,{children:i.username}),(0,o.BX)(c.xv,{color:"dimmest",children:[" published a ",a]})]})]})}),(0,o.tZ)(Z.Z,{size:12})]}),(0,o.BX)(d.T,{css:[h.l0.borderRadius(8),h.l0.colWithGap(8),h.l0.p(8),h.l0.position.relative,{border:"1px solid "+h.TV.outlineDimmest}],children:[(0,o.tZ)(p.G,{css:[h.l0.colWithGap(16)],children:(0,o.tZ)(p.G,{css:[h.l0.rowWithGap(16),h.l0.justify.spaceBetween],children:(0,o.BX)(p.G,{css:[h.l0.rowWithGap(8),h.l0.align.start,h.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(v.ZP,{iconUrl:n.iconUrl,alt:n.title,size:84,css:[h.l0.backgroundColor.backgroundHigher]}),(0,o.BX)(p.G,{css:[h.l0.flex.growAndShrink(1),h.l0.colWithGap(4)],children:[(0,o.BX)(p.G,{css:[h.l0.flex.row],children:[(0,o.tZ)(s(),(0,l.Z)((0,r.Z)({passHref:!0},(0,m.j3)(n)),{children:(0,o.tZ)(w,{css:[{color:"inherit"},y,h.l0.flex.growAndShrink(1),h.l0.minWidth(0)],onClick:function(e){return e.preventDefault()},children:(0,o.tZ)(c.xv,{variant:"subheadBig",children:n.title})})})),n.isTemplate?(0,o.tZ)(x,{}):null]}),n.description?(0,o.tZ)(c.xv,{color:"dimmer",maxLines:2,children:n.description}):null]})]})})}),(0,o.BX)(p.G,{css:[h.l0.rowWithGap(8),h.l0.justify.spaceBetween,h.l0.minHeight(24)],children:[(0,o.tZ)(f.Z,{repl:{id:n.id,runCount:0,likeCount:0,commentCount:0}}),(0,o.tZ)(p.G,{css:[h.l0.position.relative,{zIndex:1},h.l0.flex.shrink(1)],children:(0,o.tZ)(g.Vs,{tags:n.tags,onTagClick:function(e){return e.preventDefault()}})})]})]})]})}var x=function(){return(0,o.tZ)("span",{css:[h.l0.display.inlineFlex,h.l0.align.center,h.l0.height(24),h.l0.px(8),h.l0.borderRadius(16),h.l0.backgroundColor.yellowDimmest,h.l0.color.yellowStrongest,h.l0.justify.center,h.l0.ml(8),{fontSize:h.TV.fontSizeSmall,lineHeight:h.TV.fontSizeSmall}],children:"Template"})},C=function(){return(0,o.BX)(p.G,{css:[h.l0.colWithGap(8),{opacity:.5}],children:[(0,o.BX)(p.G,{css:[h.l0.flex.row,h.l0.align.center,h.l0.flex.grow(1),h.l0.justify.spaceBetween],children:[(0,o.BX)(p.G,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(24),h.l0.height(24),h.l0.borderRadius(16)]}),(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(126),h.l0.height(12),h.l0.borderRadius(4)]})]}),(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(12),h.l0.height(12),h.l0.borderRadius(8)]})]}),(0,o.BX)(p.G,{css:[h.l0.backgroundColor.backgroundDefault,h.l0.width("100%"),h.l0.height(132),h.l0.borderRadius(8),h.l0.colWithGap(8),h.l0.p(8)],children:[(0,o.BX)(p.G,{css:h.l0.rowWithGap(8),children:[(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.height(84),h.l0.width(84),h.l0.borderRadius(4)]}),(0,o.BX)(p.G,{css:[h.l0.colWithGap(12),h.l0.pt(4),h.l0.flex.grow(1)],children:[(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(80),h.l0.height(16),h.l0.borderRadius(4)]}),(0,o.BX)(p.G,{css:h.l0.colWithGap(8),children:[(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width("100%"),h.l0.height(12),h.l0.borderRadius(4)]}),(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width("80%"),h.l0.height(12),h.l0.borderRadius(4)]})]})]})]}),(0,o.BX)(p.G,{css:[h.l0.flex.row,h.l0.flex.grow(1),h.l0.align.center,h.l0.justify.spaceBetween],children:[(0,o.tZ)(p.G,{css:h.l0.rowWithGap(16),children:(0,i.Z)(Array(3)).map((function(e,t){return(0,o.BX)(p.G,{css:[h.l0.rowWithGap(4),h.l0.align.center],children:[(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(12),h.l0.height(12),h.l0.borderRadius(8)]}),(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(16),h.l0.height(8),h.l0.borderRadius(2)]})]},t)}))}),(0,o.tZ)(p.G,{css:h.l0.rowWithGap(4),children:(0,i.Z)(Array(2)).map((function(e,t){return(0,o.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(48),h.l0.height(24),h.l0.borderRadius(16)]},t)}))})]})]})]})}},49397:function(e,t,n){n.d(t,{q:function(){return y}});var r=n(57389),l=n(72006),i=n(4405),o=n(2272),a=n(94660),s=n(59496),u=n(58530),c=n(74296),d=n(15667),p=n.n(d),h=n(27297),f=n(16092),g=n(72343),v=n(47190),m=n(24410),Z=n(83188),b=n(12512),w=function(e){var t=e.url,n=e.successMessageDurationMs,r=void 0===n?1500:n,l=(0,o.Z)(s.useState(!1),2),i=l[0],c=l[1],d=s.useRef(null);return s.useEffect((function(){return function(){d.current&&clearTimeout(d.current)}}),[]),(0,a.tZ)(u.u,{isOpen:i,placement:"bottom",tooltip:i?"Copied!":"Copy link",delay:"none",children:(0,a.tZ)(u.hU,{alt:"Copy link",tooltipHidden:!1,onClick:function(){t&&((0,f.Z)(t),c(!0),d.current=setTimeout((function(){c(!1)}),r))},children:(0,a.tZ)(g.Z,{})})})},y=function(e){var t=e.repl,n=e.isUpdate,o=(0,h.j3)(t),s=t.url?(0,h.QB)(t):"",d=t.publishedAs===c.O2.Template,f=(0,Z.Z)({text:"Check out what I just published on Replit: ".concat(t.title),url:s});return(0,a.BX)(u.Tg,{background:"default",css:[u.l0.borderRadius(8),u.l0.overflow("hidden"),u.l0.colWithGap(16),u.l0.width(510),u.l0.p(16),u.l0.flex.growAndShrink(1),(0,r.Z)({},"@media (max-width: ".concat(b.j.tabletMin,"px)"),[{width:"100%"}])],dataCy:"published-repl-share-info-container",children:[(0,a.BX)(u.G7,{css:[u.l0.colWithGap(16)],children:[(0,a.BX)(u.xv,{variant:"subheadBig",children:[d?"Template":"Repl"," ",n?"updated":"published","!"]})," ",(0,a.BX)(u.G7,{css:[u.l0.colWithGap(4)],children:[(0,a.tZ)(u.xv,{variant:"small",css:[u.l0.color.foregroundDimmer],children:"Cover page link"}),(0,a.BX)(u.G7,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,a.tZ)(p(),(0,i.Z)((0,l.Z)({},o),{css:[u.l0.flex.growAndShrink(1)],children:(0,a.tZ)("a",{css:[{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],children:s})})),(0,a.tZ)(w,{url:s})]})]})]}),(0,a.BX)(u.G7,{css:[u.l0.rowWithGap(12),u.l0.justify.end,(0,r.Z)({alignItems:"flex-end"},u.BC.max("mobileMax"),[u.l0.colWithGap(8),{width:"100%",">*":{width:"100%"}}])],children:[(0,a.tZ)(u.ZP,{prefetch:!1,href:f,iconLeft:(0,a.tZ)(v.Z,{}),text:"Share to Twitter",target:"_blank",css:[(0,r.Z)({},u.BC.max("mobileMax"),[u.l0.mr(0)])]}),(0,a.tZ)(u.ZP,{iconRight:(0,a.tZ)(m.Z,{}),text:d?"Go to Templates":"Go to Community",href:d?{pathname:"/templates/templates"}:{pathname:"/postsFeed",query:{order:"new"}},as:d?"/templates":"/community/all"})]})]})}},37249:function(e,t,n){n.d(t,{r:function(){return Z}});var r=n(57135),l=n(2272),i=n(96583),o=n(72006),a=n(43119),s=n(71440),u=n(24615),c=n(46653);function d(){var e=(0,a.Z)(["\n  mutation CreateTemplateReleaseCreateDeployment(\n    $input: CreateReplDeployemntInput!\n  ) {\n    createReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,a.Z)(["\n  mutation CreateTemplateReleaseCreateRelease($input: CreateReplReleaseInput!) {\n    createReplRelease(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var h={},f=(0,s.Ps)(d(),u.FW);var g=(0,s.Ps)(p(),u.FW);var v="Something went wrong publishing your Template";function m(e){if(e.error)return e.error.message||v;if(e.data){if("createReplDeployment"in e.data){if("NotFoundError"===e.data.createReplDeployment.__typename||"UnauthorizedError"===e.data.createReplDeployment.__typename||"UserError"===e.data.createReplDeployment.__typename)return e.data.createReplDeployment.message;if("Repl"!==e.data.createReplDeployment.__typename)return v}if("createReplRelease"in e.data){if("NotFoundError"===e.data.createReplRelease.__typename||"UnauthorizedError"===e.data.createReplRelease.__typename||"UserError"===e.data.createReplRelease.__typename)return e.data.createReplRelease.message;if("Repl"!==e.data.createReplRelease.__typename)return v}}}function Z(){var e=(0,l.Z)(function(e){var t=(0,o.Z)({},h,e);return c.D(f,t)}(),2),t=e[0],n=e[1],a=(0,l.Z)(function(e){var t=(0,o.Z)({},h,e);return c.D(g,t)}(),2),s=a[0],u=a[1],d=function(){var e=(0,r.Z)((function(e){var t,r;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:if(t=e.input,n.loading||u.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,s({refetchQueries:["ReplEnvironmentHeader"],variables:{input:t}})];case 2:return[2,{data:(r=l.sent()).data,error:m(r)}];case 3:return l.sent(),[2,{data:null,error:v}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)((function(e){var r,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(r=e.input,n.loading||u.loading)return[2,{data:null,error:null}];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t({variables:{input:r}})];case 2:return[2,{data:(l=i.sent()).data,error:m(l)}];case 3:return i.sent(),[2,{data:null,error:v}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return{createRelease:d,createDeployment:p,data:n.data||u.data,loading:n.loading||u.loading,error:m(n||u)}}}}]);
//# sourceMappingURL=9307-3f9dcc3cb4583bd1.js.map