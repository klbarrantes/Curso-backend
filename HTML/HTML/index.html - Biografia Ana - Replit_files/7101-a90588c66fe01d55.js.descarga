"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7101],{88641:function(n,e,t){t.d(e,{Z:function(){return m}});var r=t(72006),o=t(4405),i=t(77637),u=t(2272),a=t(94660),c=t(29356),s=t.n(c),l=t(59496),f=t(18303),d=t(54703),p=t(76740),h=t(29847),g=(t(12512),t(7330)),v={xsmall:400,small:450,medium:550,large:900},E=100;function m(n){var e=n.children,t=(0,i.Z)(n,["children"]),r=t.onRequestClose,o=(0,d.useRouter)(),c=(0,u.Z)(l.useState(!1),2),h=c[0],m=c[1],T=(0,u.Z)(l.useState(t.isOpen),2),y=T[0],S=T[1],w=(0,u.Z)(l.useState(!1),2),R=w[0],_=w[1];if(l.useEffect((function(){if(t.isOpen){var n=setTimeout((function(){return _(!0)}));return function(){clearTimeout(n)}}_(!1)}),[t.isOpen]),l.useEffect((function(){if(!t.isOpen){var n=setTimeout((function(){S(!1)}),E);return function(){clearTimeout(n)}}S(t.isOpen)}),[t.isOpen]),l.useEffect((function(){return m(!0)}),[]),l.useEffect((function(){if(t.isOpen&&!t.preventCloseOnRouteChange){var n=function(){return r()};return o.events.on("routeChangeStart",n),function(){o.events.off("routeChangeStart",n)}}}),[t.isOpen,t.preventCloseOnRouteChange,o,r]),!h)return null;var A=v[t.width||"medium"],C=R?1:0;return(0,a.BX)(a.HY,{children:[(0,a.tZ)(f.Ot,{prefix:"modal",children:(0,a.tZ)(p.t9,{style:{opacity:C},isOpen:y,onDismiss:t.preventClose?void 0:t.onRequestClose,className:"oldModalOverlay",children:(0,a.BX)(p.cZ,{"aria-label":"Dialog",style:{maxWidth:"calc(".concat(A,"px + var(--space-32))")},className:"oldModalContent",children:[e,t.preventClose||t.hideCloseButton?null:(0,a.tZ)("div",{"aria-label":"Close",className:s().dynamic([["9f06ff8373dbab42",[g.n0,E]]])+" close-control",children:(0,a.tZ)(b,{onClick:function(){t.onRequestClose()}})})]})})}),(0,a.tZ)(s(),{id:"9f06ff8373dbab42",dynamic:[g.n0,E],children:".oldModalOverlay{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;z-index:".concat(g.n0,";background-color:var(--background-overlay);-webkit-transition:opacity ").concat(E,"ms;-moz-transition:opacity ").concat(E,"ms;-o-transition:opacity ").concat(E,"ms;transition:opacity ").concat(E,"ms;opacity:0;padding:0 var(--space-16)}.oldModalContent{margin:20vh auto;outline:none;position:relative;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border:1px solid var(--background-highest)}.oldModalOverlay.is-open{opacity:1}.close-control.__jsx-style-dynamic-selector{position:absolute;top:0;right:0;-webkit-transform:translate(0,-webkit-calc(-100% - var(--space-8)));-moz-transform:translate(0,-moz-calc(-100% - var(--space-8)));-ms-transform:translate(0,calc(-100% - var(--space-8)));-o-transform:translate(0,calc(-100% - var(--space-8)));transform:translate(0,-webkit-calc(-100% - var(--space-8)));transform:translate(0,-moz-calc(-100% - var(--space-8)));transform:translate(0,calc(-100% - var(--space-8)))}")})]})}function b(n){return(0,a.BX)("button",(0,o.Z)((0,r.Z)({},n),{className:"jsx-a21f4f6814924b01 "+(n&&null!=n.className&&n.className||""),children:[(0,a.tZ)(h.Z,{}),(0,a.tZ)(s(),{id:"a21f4f6814924b01",children:"button.jsx-a21f4f6814924b01{cursor:pointer;color:var(--foreground-dimmest);border:1px solid var(--background-highest);background-color:var(--background-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:var(--space-32);height:var(--space-32)}button.jsx-a21f4f6814924b01:focus{outline:0 none}button.jsx-a21f4f6814924b01:hover{color:var(--foreground-default)}"})]}))}},57523:function(n,e,t){t.d(e,{B:function(){return h},R$:function(){return g}});var r=t(57135),o=t(2272),i=t(96583),u=t(16505),a=t(56579),c=t(33575),s=t(5109),l=t(59496),f=(0,s.cn)("unknown");function d(n){var e,t,r,o;if(n.error)return"unknown";var i,u,a,c="unknown";if((null===(e=n.config.interpreter)||void 0===e||null===(t=e.command)||void 0===t?void 0:t.args)&&(null===(i=n.config.interpreter)||void 0===i||null===(u=i.command)||void 0===u||u.args.forEach((function(n){/nodejs/.test(n)?c="nodejs":/python3/.test(n)&&(c="python3")})),"unknown"!==c))return c;if((null===(r=n.config.run)||void 0===r?void 0:r.args)&&(null===(a=n.config.run)||void 0===a||a.args.forEach((function(n){/vite/.test(n)?c="vite":/node|npm/.test(n)?c="nodejs":/python3/.test(n)&&(c="python3")})),"unknown"!==c))return c;if(null===(o=n.config.packager)||void 0===o?void 0:o.language){var s,l=null===(s=n.config.packager)||void 0===s?void 0:s.language;if(/nodejs/.test(l)?c="nodejs":/python3/.test(l)&&(c="python3"),"unknown"!==c)return c}return"unknown"}function p(n){var e="unknown";return/nodejs|typescript/.test(n)?e="nodejs":/python3/.test(n)&&(e="python3"),e}function h(){var n=(0,a.Z)().dotReplit,e=(0,u.Z)(),t=(0,c.d)(),h=(0,o.Z)((0,s.KO)(f),2)[1];(0,l.useEffect)((function(){function o(){return(o=(0,r.Z)((function(){var r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t?[4,n.getConfig()]:[2];case 1:r=i.sent();try{return o="unknown","unknown"===(o=d(r))&&(o=p(e)),h(o),[2,o]}catch(u){h("unknown")}return[2]}}))}))).apply(this,arguments)}return function(){o.apply(this,arguments)}(),function(){h("unknown")}}),[n,t,e,h])}function g(){return(0,s.Dv)(f)}},30300:function(n,e,t){t.d(e,{b:function(){return o}});var r=t(28609);function o(n,e){return(0,r.Z)((function(){return{get current(){return e.get(n)},subscribe:function(t){return e.sub(n,(function(){return t(e.get(n))}))}}}),[e,n])}},67192:function(n,e,t){t.d(e,{Fp:function(){return r},Fv:function(){return a},HH:function(){return u},hI:function(){return i},iN:function(){return o}});var r="text-davinci-003",o=8e3,i=["package.json","package-lock.json","yarn.lock","poetry.lock","package.json","package-lock.json",".replit","replit.nix","pyproject.toml",".breakpoints"],u=[".md",".yml",".yaml",".json",".toml",".out",".pkl",".bin",".txt",".csv"],a=["node_modules",".config","venv",".next",".git"]},16345:function(n,e,t){t.d(e,{Sf:function(){return a},UP:function(){return c},eC:function(){return u}});var r=t(1540),o={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",go:"go"},i={rs:"rust",lsp:"lisp",sh:"bash",cpp:"c++",hs:"haskell",go:"go",rb:"ruby"};function u(n){if(!n)return!1;var e=(0,r.r6)(n);return Boolean(o[e])}function a(n){var e=(0,r.r6)(n);return o[e]?o[e]:i[e]?i[e]:e}function c(n){var e=(0,r.r6)(n);return o[e]?o[e]:"unknown"}},44674:function(n,e,t){t.d(e,{n:function(){return s}});var r=t(88733),o=t(73012),i=t(11858),u=t(96583);function a(n){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)((function(n){var e,t,r,i;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:e=n.getReader(),u.label=1;case 1:return[4,(0,o.Z)(e.read())];case 2:return t=u.sent(),r=t.done,i=t.value,r?[3,4]:[4,i];case 3:return u.sent(),[3,1];case 4:return e.releaseLock(),[2]}}))}))).apply(this,arguments)}function s(n){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((function(n){var e,t,i,c,s,l,f,d,p;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:e=new TextDecoder("utf-8"),t=!1,i=!1,u.label=1;case 1:u.trys.push([1,7,8,13]),s=(0,r.Z)(a(n)),u.label=2;case 2:return[4,(0,o.Z)(s.next())];case 3:return(t=!(l=u.sent()).done)?(f=l.value,d=f,[4,e.decode(d,{stream:!0})]):[3,6];case 4:u.sent(),u.label=5;case 5:return t=!1,[3,2];case 6:return[3,13];case 7:return p=u.sent(),i=!0,c=p,[3,13];case 8:return u.trys.push([8,,11,12]),t&&null!=s.return?[4,s.return()]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,12];case 11:if(i)throw c;return[7];case 12:return[7];case 13:return[2]}}))}))).apply(this,arguments)}},69978:function(n,e,t){var r;t.d(e,{y:function(){return r}}),function(n){n.Welcome="Welcome",n.Editor="Editor",n.Examples="Examples",n.Run="Run",n.Output="Output",n.Sidepane="Sidepane",n.Share="Share",n.SidebarButton="SidebarButton",n.GlobalNavButton="GlobalNavButton",n.NotificationsButton="NotificationsButton",n.AvatarButton="AvatarButton",n.SidebarAnnouncement="SidebarAnnouncement",n.Feedback="Feedback"}(r||(r={}))},83410:function(n,e,t){t.d(e,{bG:function(){return u},gU:function(){return c},pl:function(){return a}});var r=t(92674),o=t.n(r),i=t(54282);function u(n,e){var t={protocolVersion:i.Wj,messageDirection:i.s1.TO_NATIVE,messageId:e,payload:n};"ReactNativeWebView"in window&&null!=window.ReactNativeWebView&&window.ReactNativeWebView.postMessage?window.ReactNativeWebView.postMessage(JSON.stringify(t)):window.postMessage(t,window.origin)}function a(n){var e=null!==n&&void 0!==n?n:o()();u({messageType:i.cF.ERROR},e)}function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),e={messageType:i.cF.ACK};u(e,n)}},54282:function(n,e,t){var r,o,i,u;t.d(e,{$l:function(){return S},CF:function(){return A},Fq:function(){return R},H7:function(){return h},I9:function(){return w},MB:function(){return y},Of:function(){return i},Se:function(){return v},T$:function(){return b},Wj:function(){return a},aB:function(){return T},ac:function(){return m},b9:function(){return u},cF:function(){return r},fz:function(){return g},m7:function(){return E},s1:function(){return o}}),function(n){n.ERROR="ERROR",n.ACK="ACK",n.RESET="RESET",n.DEBUG="DEBUG",n.TEXT_EDITOR_CLOSED="TEXT_EDITOR_CLOSED",n.TEXT_EDITOR_STATE="WORKSPACE_STATE",n.TEXT_EDITOR_STATE_REQUEST="WORKSPACE_STATE_REQUEST",n.WORKSPACE_STATE="WORKSPACE_STATE1",n.WORKSPACE_STATE_REQUEST="WORKSPACE_STATE_REQUEST1",n.REQUEST_SET_SELECTION="REQUEST_SET_SELECTION",n.REQUEST_REPLACE_SELECTION="REQUEST_REPLACE_SELECTION",n.REQUEST_SET_TEXT="REQUEST_SET_TEXT",n.REQUEST_INSERT_TEXT="REQUEST_INSERT_TEXT",n.REQUEST_PASTE_TEXT="REQUEST_PASTE_TEXT",n.TEXT_EDITOR_REQUEST_ACTION="TEXT_EDITOR_REQUEST_ACTION",n.WORKSPACE_REQUEST_ACTION="WORKSPACE_REQUEST_ACTION",n.SET_KEYBOARD_STATE="SET_KEYBOARD_STATE",n.SHELL_INSERT_INPUT="SHELL_INSERT_INPUT",n.SHELL_COMMAND="SHELL_COMMAND"}(r||(r={})),function(n){n.FROM_NATIVE="FROM_NATIVE",n.TO_NATIVE="TO_NATIVE"}(o||(o={})),function(n){n.OPEN_FILETREE="OPEN_FILETREE",n.OPEN_NEW_PANE="OPEN_NEW_PANE",n.TOGGLE_DRAWER="TOGGLE_DRAWER",n.TOGGLE_ALLPANES="TOGGLE_ALLPANES",n.TOGGLE_RUN_STATE="TOGGLE_RUN_STATE"}(i||(i={})),function(n){n.REQUEST_UNDO="REQUEST_UNDO",n.REQUEST_REDO="REQUEST_REDO",n.REQUEST_BLUR="REQUEST_BLUR",n.REQUEST_FOCUS="REQUEST_FOCUS",n.REQUEST_INDENT_SELECTION="REQUEST_INDENT_SELECTION",n.REQUEST_DEDENT_SELECTION="REQUEST_DEDENT_SELECTION",n.REQUEST_TOGGLE_COMMENT="REQUEST_TOGGLE_COMMENT",n.REQUEST_ACCEPT_GHOSTWRITER_SUGGESTION="REQUEST_ACCEPT_GHOSTWRITER_SUGGESTION"}(u||(u={}));var a="1";function c(n){return null!==n&&void 0!==n&&"string"===typeof n}function s(n){return c(n)||null===n}function l(n){return null!==n&&void 0!==n&&"boolean"===typeof n}function f(n){return null!=n&&"number"===typeof n&&!Number.isNaN(n)&&Number.isFinite(n)&&Number.isSafeInteger(n)&&n>=0}function d(n){return null!=n&&("object"===typeof n&&null!=n&&("location"in n&&"length"in n&&f(n.location)&&f(n.length)))}function p(n){return null!=n&&(!!Array.isArray(n)&&!!n.every((function(n){return d(n)})))}function h(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"isDrawerOpen"in n&&"isShowingAllPanes"in n&&"isSaving"in n&&"isOffline"in n&&"runState"in n&&"activePaneType"in n&&"activePaneFilePath"in n&&n.messageType===r.WORKSPACE_STATE&&l(n.isDrawerOpen)&&l(n.isShowingAllPanes)&&l(n.isSaving)&&l(n.isOffline)&&c(n.runState)&&s(n.activePaneType)&&s(n.activePaneFilePath)))}function g(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"revisionId"in n&&"text"in n&&n.messageType===r.REQUEST_REPLACE_SELECTION&&c(n.filePath)&&c(n.revisionId)&&c(n.text)))}function v(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"selections"in n&&"revisionId"in n&&n.messageType===r.REQUEST_SET_SELECTION&&c(n.filePath)&&p(n.selections)&&c(n.revisionId)))}function E(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"text"in n&&"selections"in n&&"revisionId"in n&&n.messageType===r.REQUEST_SET_TEXT&&c(n.filePath)&&c(n.text)&&p(n.selections)&&c(n.revisionId)))}function m(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"text"in n&&"insertionRange"in n&&"selections"in n&&"revisionId"in n&&n.messageType===r.REQUEST_INSERT_TEXT&&c(n.filePath)&&c(n.text)&&d(n.insertionRange)&&p(n.selections)&&c(n.revisionId)))}function b(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"text"in n&&"revisionId"in n&&n.messageType===r.REQUEST_PASTE_TEXT&&c(n.filePath)&&c(n.text)&&c(n.revisionId)))}function T(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"revisionId"in n&&"filePath"in n&&"action"in n&&n.messageType===r.TEXT_EDITOR_REQUEST_ACTION&&c(n.revisionId)&&c(n.filePath)&&c(n.action)))}function y(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"action"in n&&n.messageType===r.WORKSPACE_REQUEST_ACTION&&c(n.action)))}function S(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"isShown"in n&&"height"in n&&n.messageType===r.SET_KEYBOARD_STATE&&l(n.isShown)&&function(n){return null!==n&&void 0!==n&&"number"===typeof n}(n.height)))}function w(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"input"in n&&n.messageType===r.SHELL_INSERT_INPUT&&c(n.input)))}function R(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"command"in n&&n.messageType===r.SHELL_COMMAND&&c(n.command)))}function _(n){if(null==n)return!1;if("object"!==typeof n||null==n)return!1;if(!("messageType"in n)||!c(n.messageType))return!1;switch(n.messageType){case r.ERROR:case r.ACK:case r.RESET:return!0;case r.TEXT_EDITOR_CLOSED:return function(n){return null!=n&&"object"===typeof n&&null!=n&&"messageType"in n&&"filePath"in n&&n.messageType===r.TEXT_EDITOR_CLOSED&&c(n.filePath)}(n);case r.TEXT_EDITOR_STATE:case r.TEXT_EDITOR_STATE_REQUEST:case r.WORKSPACE_STATE:case r.WORKSPACE_STATE_REQUEST:return!0;case r.REQUEST_SET_SELECTION:return v(n);case r.REQUEST_SET_TEXT:return E(n);case r.REQUEST_INSERT_TEXT:return m(n);case r.REQUEST_PASTE_TEXT:return b(n);case r.REQUEST_REPLACE_SELECTION:return g(n);case r.TEXT_EDITOR_REQUEST_ACTION:return T(n);case r.WORKSPACE_REQUEST_ACTION:return y(n);case r.SET_KEYBOARD_STATE:return S(n);case r.SHELL_INSERT_INPUT:return w(n);case r.SHELL_COMMAND:return R(n);case r.DEBUG:return function(n){return null!=n&&"object"===typeof n&&null!=n&&"messageType"in n&&"debugMessage"in n&&n.messageType===r.DEBUG&&c(n.debugMessage)}(n);default:return!1}}function A(n){return null!=n&&("object"===typeof n&&null!=n&&("protocolVersion"in n&&"messageDirection"in n&&"messageId"in n&&"payload"in n&&c(n.protocolVersion)&&c(n.messageDirection)&&c(n.messageId)&&_(n.payload)))}},27033:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(2272),o=t(59496),i={isConnecting:!0,channel:null,context:null};function u(n){var e=n.container,t=n.service,u=n.name,a=n.skip,c=void 0!==a&&a,s=(0,r.Z)(o.useState(i),2),l=s[0],f=s[1];return o.useEffect((function(){f(i);var n=!1,r=e.openChannel({service:t,name:u,skip:function(){return c}},(function(e){if(!n)return f({context:e.context,channel:e.channel,isConnecting:!1}),function(e){n||f({isConnecting:e.willReconnect,channel:null,context:null})}}));return function(){n=!0,r()}}),[e,t,u,c]),l}},44688:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(57135),o=t(96583),i=t(47382),u=t(89702),a=t(57627),c=t(46760),s=t(51954);function l(n){var e=n.container,t=n.beforeRun,l=function(){var n=function(n){p!==n&&(p=n,f.emit(a.z.STATE_CHANGE,p))};n(d?g?a.A.STOPPING:"none"===h?a.A.IDLE:a.A.RUNNING:a.A.OFFLINE)},f=(0,c.ZP)(),d=null,p=a.A.OFFLINE,h="none",g=!1,v=Math.random();function E(){return(E=(0,r.Z)((function(n){var r,i,u,c,g;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(p!==a.A.IDLE&&p!==a.A.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+p);return i=Math.random(),v=i,f.emit(a.z.LOCAL_RUN),h="before-run",l(),u=s.kg.timeStart({replLanguage:null===(r=e.getContext())||void 0===r?void 0:r.repl.language}),[4,t(u,{runId:i.toString(),channelId:null===d||void 0===d?void 0:d.id,type:"shellrunner"})];case 1:if(o.sent(),v!==i)return[2];if("none"===h)return[2];if("server"===h)return[2];if(!d)throw new Error("State is RUNNING but shellrunner is null?");return"open"!==d.status||(h="optimistic",c={},n&&(c.runnerId=n.runner.id,c.filePath=n.filePath),d.send({runMain:c}),g=d.onCommand((function(n){"state"===n.body&&(g(),u("run finished"))}))),[2]}}))}))).apply(this,arguments)}function m(){return(m=(0,r.Z)((function(n){return(0,o.__generator)(this,(function(e){if(p!==a.A.IDLE&&p!==a.A.RUNNING)throw new Error("Can only send input when running or idle");if(!d)throw new Error("State is not OFFLINE but shellrunner is null?");return d.send({input:n}),[2]}))}))).apply(this,arguments)}return e.openChannel({name:"shellrunner",service:"shellrun2",skip:function(n){var e,t=n.repl;return!("nix"===(e=t.language)||!0===i.Z.usesInterpreter(e)||!1!==i.Z.usesRunProject(e))}},(function(n){var e=n.channel;return d=e,l(),e.onCommand((function(n){if(null!=n.state){var e=n.state===u.api.State.Stopped;g&&e&&(g=!1),e?"server"===h&&(h="none"):h="server",l()}else null!=n.output?f.emit(a.z.OUTPUT,n.output):n.hint&&f.emit(a.z.OUTPUT,"\r\n\x1b[0m\x1b[33m".concat(n.hint.text,"\x1b[0m\r\n"))})),function(){h="none",g=!1,d=null,l()}})),{mode:"shellrunner",run:function(n){return E.apply(this,arguments)},stopRun:function(){if(p!==a.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(p));if(!d)throw new Error("State is RUNNING but shellrunner is null?");if("before-run"===h)return h="none",void l();h="none",g=!0,l(),d.send({clear:{}})},sendInput:function(n){return m.apply(this,arguments)},resizeTerminal:function(n){if(!d)throw new Error("resizeTerminal must be called when online");d.send({resizeTerm:n})},onOutput:function(n){return f.on(a.z.OUTPUT,n),function(){f.removeListener(a.z.OUTPUT,n)}},onLocalRun:function(n){return f.on(a.z.LOCAL_RUN,n),function(){f.removeListener(a.z.LOCAL_RUN,n)}},onStateChanged:function(n){return f.on(a.z.STATE_CHANGE,n),function(){f.removeListener(a.z.STATE_CHANGE,n)}},getRunState:function(){return p}}}var f=t(76554);function d(n){var e=n.container,t=n.beforeRun,i=n.mode,u=void 0===i?"shellrunner":i;if("shellrunner"===u)return l({container:e,beforeRun:t});if("html"===u)return function(n){var e=n.beforeRun,t=n.container,i=function(){(function(n){l!==n&&(l=n,u.emit(a.z.STATE_CHANGE,l))})("none"===d?a.A.IDLE:a.A.RUNNING)},u=(0,c.ZP)(),l=a.A.OFFLINE,d="none",p=Math.random();function h(){return(h=(0,r.Z)((function(){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(l!==a.A.IDLE&&l!==a.A.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+l);return n=Math.random(),p=n,u.emit(a.z.LOCAL_RUN),d="before-run",i(),t=s.kg.timeStart({replLanguage:"html"}),[4,e(t,{runId:n.toString(),type:"html"})];case 1:return r.sent(),p!==n||"none"===d||(d="running",i(),d="none",i()),[2]}}))}))).apply(this,arguments)}function g(){return(g=(0,r.Z)((function(n){return(0,o.__generator)(this,(function(n){throw new Error("sendInput not implemented for htmlrunner")}))}))).apply(this,arguments)}return t.onConnectionStateChanged((function(n){n===f.em.CONNECTED&&(d="none",i())})),{mode:"html",run:function(){return h.apply(this,arguments)},stopRun:function(){if(l!==a.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(l));d="none",i()},sendInput:function(n){return g.apply(this,arguments)},resizeTerminal:function(n){throw new Error("resizeTerminal is a no-op in html mode")},onOutput:function(n){throw new Error("onOutput not implemented for htmlrunner")},onStateChanged:function(n){return u.on(a.z.STATE_CHANGE,n),function(){u.removeListener(a.z.STATE_CHANGE,n)}},onLocalRun:function(n){return u.on(a.z.LOCAL_RUN,n),function(){u.removeListener(a.z.LOCAL_RUN,n)}},getRunState:function(){return l}}}({beforeRun:t,container:e});throw new Error("mode not supported: "+u)}},57627:function(n,e,t){var r,o;t.d(e,{A:function(){return o},z:function(){return r}}),function(n){n.STATE_CHANGE="STATE_CHANGE",n.OUTPUT="OUTPUT",n.LOCAL_RUN="RUN"}(r||(r={})),function(n){n.OFFLINE="OFFLINE",n.IDLE="IDLE",n.RUNNING="RUNNING",n.STOPPING="STOPPING"}(o||(o={}))},27741:function(n,e,t){t.d(e,{K:function(){return a}});var r=t(72006),o=t(56579),i=t(59496),u=t(12922);function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,o.Z)().userEvents,t=(0,u.P)({controlName:"flag-null-diagnostics"});return(0,i.useCallback)((function(o,i){t&&e.emit(o,(0,r.Z)({},n,i))}),[e,n,t])}},69402:function(n,e,t){t.d(e,{X:function(){return i},z:function(){return u}});var r=t(59496),o=r.createContext(null);function i(){return r.useContext(o)}var u=o.Provider},42882:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(73112),o=function(){};function i(n){var e=(0,r.e)(n);return e?e.delegateTooltip:o}},73112:function(n,e,t){t.d(e,{e:function(){return i}});var r=t(59496),o=t(69402);function i(n){var e=(0,o.X)(),t=(0,r.useCallback)((function(t){null===e||void 0===e||e.setStepTargetElement(n,t)}),[n,null===e||void 0===e?void 0:e.setStepTargetElement]);return e&&e.steps.some((function(e){return e.id===n}))?{delegateTooltip:t,isActive:!e.isLoading&&!e.isDone&&e.activeStep.id===n,activeStep:e.activeStep,done:e.done,goto:e.goto,id:e.id,isDone:e.isDone,isLoading:e.isLoading,next:e.next,prev:e.prev,restart:e.restart,steps:e.steps}:null}},62239:function(n,e,t){t.d(e,{Z:function(){return w}});var r=t(2272),o=t(94660),i=t(29356),u=t.n(i),a=t(1665),c=t(94972),s=t(44542),l=t(79460),f=t(88641),d=t(7330),p=t(38691),h=t(82002),g=t(72006),v=t(43119),E=t(71440),m=t(53486);function b(){var n=(0,v.Z)(["\n  query BSODComponent {\n    currentUser {\n      id\n      username\n      image\n      isStaff: hasRole(role: REPLIT_STAFF)\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return b=function(){return n},n}var T={},y=(0,E.Ps)(b());var S=function(n){var e,t=n.bsod;return(0,o.tZ)("div",{css:[d.l0.p(16),d.l0.width("100%"),d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8),d.l0.overflowY("hidden"),{whiteSpace:"pre"}],children:(0,o.tZ)(l.gC,{spacing:1,children:(0,o.BX)("div",{css:[d.l0.font.code,d.l0.fontSize(12)],children:[(0,o.BX)("div",{children:["Origin: ",t.origin]}),null===(e=t.error.stack)||void 0===e?void 0:e.split("\n").map((function(n,e){var t=n.replace("webpack-internal:///./",""),r=t.includes("node_modules");return(0,o.tZ)("div",{css:r?d.l0.color.foregroundDimmest:null,children:t},e)}))]})})})},w=function(){var n,e,t=function(n){var e=(0,g.Z)({},T,n);return m.a(y,e)}(),i=t.data,v=t.loading,E=(0,r.Z)((0,h.qg)(),1)[0];(0,h.ic)();if(!E)return null;var b=(null===i||void 0===i||null===(n=i.currentUser)||void 0===n?void 0:n.isStaff)||(null===i||void 0===i||null===(e=i.currentUser)||void 0===e?void 0:e.isAdmin);return(0,o.tZ)(f.Z,{width:"medium",isOpen:!0,preventClose:!0,onRequestClose:function(){},children:(0,o.BX)("div",{className:u().dynamic([["52051431ebcedd91",[d.n0]]])+" modal-content",children:[(0,o.BX)(l.gC,{spacing:2,align:"center",children:[(0,o.tZ)(a.Z,{level:2,children:" Your Repl is having a bit of trouble."}),(0,o.tZ)("div",{className:u().dynamic([["52051431ebcedd91",[d.n0]]])+" spacer"}),(0,o.tZ)(c.Z,{size:"large",children:"The issue has been logged and the Replit team will look into it. Try reloading the page to get back to coding."}),(0,o.tZ)("div",{css:[d.l0.p(16),d.l0.width("100%"),d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8)],className:u().dynamic([["52051431ebcedd91",[d.n0]]]),children:(0,o.BX)(l.gC,{spacing:1,children:[!v&&(null===i||void 0===i?void 0:i.currentUser)?(0,o.BX)(l.Ug,{spacing:2,align:"center",children:[(0,o.tZ)(p.q,{src:i.currentUser.image,username:i.currentUser.username,size:48}),(0,o.tZ)(c.Z,{size:"medium",children:i.currentUser.username})]}):null,(0,o.BX)("div",{css:[d.l0.font.code],className:u().dynamic([["52051431ebcedd91",[d.n0]]]),children:["Error: ",E.eventId]})]})}),b?(0,o.tZ)(S,{bsod:E}):null,(0,o.tZ)("div",{className:u().dynamic([["52051431ebcedd91",[d.n0]]])+" spacer"}),(0,o.tZ)(s.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,o.tZ)(u(),{id:"52051431ebcedd91",dynamic:[d.n0],children:".modal-content.__jsx-style-dynamic-selector{padding:var(--space-32)}.sentry-error-embed-wrapper{z-index:".concat(d.n0,"!important}")})]})})}},25928:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(54703),o=t.n(r),i=t(2405),u=t(49500);function a(n){var e=n.throwBsod,t=n.tags,r=n.extras,a=n.origin,c=n.onNonBsodUnrecoverableError,s=void 0===c?function(){}:c;return function(n){var c=(0,i.Z)(n);c!==i.G.NotFound?c!==i.G.LanguageTokenDenied?c?s(c):(u.error(n),e({error:n,tags:t,extras:r,origin:a})):window.location.reload():o().push("/home","~/")}}},82002:function(n,e,t){t.d(e,{ic:function(){return d},qg:function(){return f},uV:function(){return l}});var r=t(72006),o=t(4405),i=t(5109),u=t(18376),a=(0,i.cn)(null),c=(0,i.cn)(null,(function(n,e,t){var i=t.error,c=t.tags,s=t.extras,l=t.origin,f=(0,o.Z)((0,r.Z)({},c),{origin:l});"statusCode"in i?f.statusCode=i.statusCode:"status"in i&&(f.statusCode=i.status);var d=(0,u.Qw)(i,{tags:f,extras:s});e(a,{eventId:d,error:i,sentry:{tags:f,extras:s},origin:l})})),s=(0,i.cn)(null,(function(n,e){e(a,null)}));function l(){return(0,i.b9)(c)}function f(){return[(0,i.Dv)(a),l()]}function d(){return(0,i.b9)(s)}},55500:function(n,e,t){t.d(e,{MY:function(){return v},WU:function(){return s},em:function(){return p},fN:function(){return g},j3:function(){return d},mJ:function(){return f},mV:function(){return l}});var r=t(2272),o=(t(28609),t(92153)),i=t(5109),u=t(32992),a=t(59496),c=(0,i.cn)(new Map),s=(0,i.cn)(null,(function(n,e,t){var r=t.messageId,i=t.abortController,u=(0,o.ZP)(n(c),(function(n){n.set(r,i)}));e(c,u)})),l=(0,i.cn)(null,(function(n,e,t){var r=t.messageId,i=(0,o.ZP)(n(c),(function(n){n.delete(r)}));e(c,i)})),f=(0,i.cn)(null,(function(n,e){var t=(0,o.ZP)(n(c),(function(n){var e=!0,t=!1,o=void 0;try{for(var i,u=n.entries()[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var a=(0,r.Z)(i.value,2);a[0];a[1].abort()}}catch(c){t=!0,o=c}finally{try{e||null==u.return||u.return()}finally{if(t)throw o}}n.clear()}));e(c,t)})),d=function(){return(0,i.Dv)(c).size>0},p=function(){return(0,u.lV)((0,a.useCallback)((function(n,e){e(f)}),[]))},h=(0,i.cn)(new Set),g=(0,i.cn)(null,(function(n,e,t){var r=t.message,i=r.id,u=r.loading,a=(0,o.ZP)(n(h),(function(n){u?n.add(i):n.delete(i)}));e(h,a)})),v=function(){return(0,i.Dv)(h).size>0}},89817:function(n,e,t){t.d(e,{Iu:function(){return s},aK:function(){return u},db:function(){return c},gL:function(){return a},v3:function(){return f}});var r=t(67192),o=t(5109),i=t(17285),u=(0,o.cn)(r.Fp),a=(0,o.cn)(null),c=(0,o.cn)(null),s=(0,o.cn)((0,i.Z)()),l=(0,o.cn)(null,(function(n,e,t){var r=t.chatModel,o=t.replId,i=t.currentUser;e(u,r),e(a,o),e(c,i),n(s).resolve(!0)})),f=function(){return(0,o.b9)(l)}},54529:function(n,e,t){t.d(e,{Cd:function(){return d},KI:function(){return s},Og:function(){return l},Oy:function(){return f},YY:function(){return a},wK:function(){return c}});var r=t(72006),o=t(5109),i=t(92153),u=(0,o.cn)({}),a=(0,o.cn)(null,(function(n,e,t){var o=t.id,a=t.debugInfo,c=n(u),s=(0,i.ZP)(c,(function(n){n[o]||(n[o]={}),n[o]=(0,r.Z)({},n[o],a)}));e(u,s)})),c=function(n){var e=n.messageId;return(0,o.Dv)(u)[e]},s=(0,o.cn)(""),l=function(){return(0,o.Dv)(s)},f=(0,o.cn)(""),d=function(){return(0,o.Dv)(f)}},75695:function(n,e,t){t.d(e,{Kz:function(){return a},dp:function(){return f},u0:function(){return s}});var r=t(57135),o=t(96583),i=t(5109),u=(0,i.cn)(""),a=function(){return(0,i.KO)(u)},c=(0,i.cn)(null),s=function(){return(0,i.KO)(c)},l=(0,i.cn)(null,function(){var n=(0,r.Z)((function(n,e){return(0,o.__generator)(this,(function(n){return e(u,""),e(c,null),[2]}))}));return function(e,t){return n.apply(this,arguments)}}()),f=function(){return(0,i.b9)(l)}},63281:function(n,e,t){t.d(e,{gm:function(){return S},ZT:function(){return H},zu:function(){return j},Jc:function(){return B},gp:function(){return X},Og:function(){return p.Og},Cd:function(){return p.Cd},ql:function(){return Y}});var r=t(88733),o=t(57135),i=t(72006),u=t(4405),a=t(96583),c=t(5109),s=t(85234),l=t.n(s),f=t(21477),d=t(51954),p=t(54529),h=t(9970),g=t(92153),v=t(55500),E=(0,c.cn)([]),m=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=n(E);e(E,(0,h.Z)(o).concat([r]))})),b=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=n(E);e(v.fN,{message:r}),e(E,(0,h.Z)(o).concat([r]))})),T=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=r.id,i=n(E),u=(0,g.ZP)(i,(function(n){var e;for(e=n.length-1;e>=0&&i[e].id!==o;e--);e>=0&&(n[e]=r)}));e(v.fN,{message:r}),e(E,u)})),y=(0,c.cn)(null,(function(n,e,t){var r=t.messageId,o=t.error,i=n(E),u=(0,g.ZP)(i,(function(n){var e=n.find((function(n){return n.id===r}));e&&(e.loading&&(e.text="",e.loading=!1),e.error=o)}));e(E,u)})),S=(0,c.cn)(l()()),w=t(89817),R=t(10063),_=t(96086),A=t(44674),C=t(1540),q=t(50438),x=t.n(q),I=t(54829),k=t(54129),N=t(46620),O=t(67192);function Z(n){var e=(0,C.r6)(n),t=O.hI.some((function(e){return n.endsWith(e)})),r=O.HH.some((function(e){return n.endsWith(e)})),o=O.Fv.some((function(e){return n.split("/").some((function(n){return n.includes(e)}))}));return!e||t||r||o}function L(n){var e=n.length;if(0===e)return!1;var t=0,r=Math.min(e,512);if(e>=3&&239===n[0]&&187===n[1]&&191===n[2])return!1;if(e>=4&&0===n[0]&&0===n[1]&&254===n[2]&&255===n[3])return!1;if(e>=4&&255===n[0]&&254===n[1]&&0===n[2]&&0===n[3])return!1;if(e>=4&&132===n[0]&&49===n[1]&&149===n[2]&&51===n[3])return!1;if(r>=5&&"%PDF-"===n.slice(0,5).toString())return!0;if(e>=2&&254===n[0]&&255===n[1])return!1;if(e>=2&&255===n[0]&&254===n[1])return!1;for(var o=0;o<r;o++){if(0===n[o])return!0;if((n[o]<7||n[o]>14)&&(n[o]<32||n[o]>127)){if(n[o]>193&&n[o]<224&&o+1<r){if(n[++o]>127&&n[o]<192)continue}else if(n[o]>223&&n[o]<240&&o+2<r&&n[++o]>127&&n[o]<192&&n[o+1]>127&&n[o+1]<192){o++;continue}if(t++,o>=32&&100*t/r>10)return!0}}return 100*t/r>10}var U=t(16345);function P(n){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)((function(n){var e,t,r,o,i,u,c,s,l,f,d,p,g,v,E,m,b,T,y;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return e=n.recentFiles,t=n.fs,[4,n.dotReplit.getConfig()];case 1:return o=a.sent().config,i=(null===o||void 0===o?void 0:o.entrypoint)||null,u=((null===o||void 0===o?void 0:o.hidden)||[]).map((function(n){return x()(n,{extended:!0,globstar:!0})})),(r=c=[]).push.apply(r,(0,h.Z)(e)),i&&c.length<10?(c.push(i),s=(0,C.Il)(i),l=""===s?I.Ql:s,[4,t.readDir(l)]):[3,3];case 2:"children"in(f=a.sent())&&(d=c).push.apply(d,(0,h.Z)(f.children.filter((function(n){return n.type===k.Tv.File})).map((function(n){return l===I.Ql?n.filename:"".concat(s,"/").concat(n.filename)})))),a.label=3;case 3:return 0===(p=(0,h.Z)(new Set(c)).filter((function(n){return!Z(n)&&!(0,N.lv)(n,u)&&(0,C.Mb)(n)})).slice(0,10)).length?[2,[]]:[4,Promise.all(p.map((function(n){return t.readFile(n)})))];case 4:for(var S in g=a.sent(),v=[],E=O.iN,p)if(m=p[S],b=(0,U.Sf)(m),!(T=g[S]).error&&!L(T.content.toBuffer())&&(y=T.content.toString().slice(0,E),v.push({filePath:m,language:b,code:y}),(E-=y.length)<=0))return[2,v];return[2,v]}}))}))).apply(this,arguments)}var F=(0,c.cn)(""),B=function(){return(0,c.KO)(F)},j=function(){return(0,c.KO)(E)},z=(0,c.cn)(new Set),G=(0,c.cn)(null,(function(n,e,t){var r=(0,g.ZP)(n(z),(function(n){n.add(t)}));e(z,r)})),Q=(0,c.cn)(null,(function(n,e,t){var r=(0,g.ZP)(n(z),(function(n){n.delete(t)}));e(z,r)})),M=(0,c.cn)((function(n){return n(z).size>0})),X=function(){return(0,c.KO)(M)};function K(n){return{user:n.attribution,message:n.text}}var W=(0,c.cn)(null,function(){var n=(0,o.Z)((function(n,e){return(0,a.__generator)(this,(function(n){return e(v.mJ),e(E,[]),e(S,l()()),(0,R.j)(R.U3.GHOSTWRITER_CHAT_CLEARED),[2]}))}));return function(e,t){return n.apply(this,arguments)}}()),H=function(){return(0,c.b9)(W)},V=(0,c.cn)(null,function(){var n=(0,o.Z)((function(n,e,t){var o,c,s,h,g,C,q,x,I,k,N,O,Z,L,U,D,F,B,j,z,M,X,W,H,V,Y,$,J,nn,en,tn,rn;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return o=t.type,c=t.text,s=t.fs,h=t.dotReplit,g=t.recentFiles,o=null!==o&&void 0!==o?o:f.NK.Chat,(0,R.j)(R.U3.GHOSTWRITER_CHAT_MESSAGE_SENT,{type:o}),C=c.trim(),[4,n(w.Iu).promise];case 1:if(a.sent(),!(q=n(w.db)))return[2];x=n(S),I=n(E),k=n(w.aK),N=n(w.gL),O=l()(),e(G,O),Z={id:O,type:o,text:C,author:{username:q.username,image:q.image},attribution:"Human"},e(m,{message:Z}),L=l()(),e(b,{message:U={id:L,type:o,loading:!0,text:"Please wait while I think through your request\u2026",author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant"}}),D=new AbortController,e(v.WU,{messageId:L,abortController:D}),a.label=2;case 2:return a.trys.push([2,17,18,19]),e(_.Et,!0),F=I.filter((function(n){return!n.loading&&!n.error})).map(K),B=performance.now(),j=void 0,[4,P({recentFiles:g,fs:s,dotReplit:h})];case 3:return z=a.sent(),0===(M={fileContext:z}).fileContext.length&&d.kg.warn("No file context passed to ghostwriter chat",{replid:N,chatId:x,messageId:L,chatInputType:o}),[4,fetch("/ai/chat2",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({chatHistory:F,message:{type:o,text:c},model:k,replId:N,chatId:x,context:M}),signal:D.signal})];case 4:if(200!==(X=a.sent()).status)throw new Error("Request failed");if(!X.body)throw new Error("Expected body on response object");W="",H=!1,V=!1,a.label=5;case 5:a.trys.push([5,10,11,16]),$=function(){var n=nn.value;n.trim().split("\n\n").map((function(n){return JSON.parse(n)})).forEach((function(t){if(t.type===f.xA.Debug){var r=t;e(p.KI,r.fullPrompt),e(p.YY,{id:L,debugInfo:{fullPrompt:r.fullPrompt}}),e(p.YY,{id:L,debugInfo:{fileContext:M}})}if(t.type===f.xA.Error)throw d.kg.error("ghostwriter chat client response stream error",{replid:N,chatId:x,chatModel:k,messageId:L,originalResponse:n}),new Error("Sorry, I had an issue generating the response.");if(t.type===f.xA.Response){j||(j=performance.now()-B,d.kg.time("ghostwriter chat time to first stream",j,{replid:N,chatId:x,chatModel:k,messageId:L}),e(p.YY,{id:L,debugInfo:{timeToFirstStream:j}}));var i=t;null!==i.stopReason&&(e(p.Oy,i.stopReason),e(p.YY,{id:L,debugInfo:{stopReason:i.stopReason}}),i.stopReason===f.tD.MaxTokens&&d.kg.info("ghostwriter chat client response stop max tokens",{replid:N,chatId:x,chatModel:k,messageId:L,inferenceId:i.id})),W+=i.data,U={id:L,type:null!==o&&void 0!==o?o:f.NK.Chat,text:W,author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant",inferenceId:i.id},e(T,{message:U})}}))},J=(0,r.Z)((0,A.n)(X.body)),a.label=6;case 6:return[4,J.next()];case 7:if(!(H=!(nn=a.sent()).done))return[3,9];$(),a.label=8;case 8:return H=!1,[3,6];case 9:return[3,16];case 10:return en=a.sent(),V=!0,Y=en,[3,16];case 11:return a.trys.push([11,,14,15]),H&&null!=J.return?[4,J.return()]:[3,13];case 12:a.sent(),a.label=13;case 13:return[3,15];case 14:if(V)throw Y;return[7];case 15:return[7];case 16:return[3,19];case 17:return tn=a.sent(),e(_.Et,!1),"AbortError"===tn.name?(e(T,{message:(0,u.Z)((0,i.Z)({},U),{aborted:!0})}),[2]):(e(y,{messageId:L,error:"Sorry, I had an issue generating the response."}),d.kg.error("ghostwriter chat client response error",{replid:N,chatId:x,chatModel:k,messageId:L,originalError:null!==(rn=null===tn||void 0===tn?void 0:tn.message)&&void 0!==rn?rn:tn}),[3,19]);case 18:return e(Q,O),e(v.mV,{messageId:L}),[7];case 19:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}()),Y=function(){return(0,c.b9)(V)}},96086:function(n,e,t){t.d(e,{Et:function(){return o},Z9:function(){return a},Z_:function(){return i},rM:function(){return c}});var r=t(5109),o=(0,r.cn)(!1),i=function(){return(0,r.KO)(o)},u=(0,r.cn)(!1),a=function(){return(0,r.KO)(u)},c=function(){return(0,r.b9)(u)}},33575:function(n,e,t){t.d(e,{d:function(){return f}});var r=t(12922),o=t(72006),i=t(43119),u=t(71440),a=t(53486);function c(){var n=(0,i.Z)(["\n  query GhostwriterChatStatusHook {\n    currentUser {\n      id\n      userPowerUpsByType {\n        __typename\n        ... on UserPowerUpsTypes {\n          ghostwriter {\n            active\n          }\n        }\n      }\n    }\n  }\n"]);return c=function(){return n},n}var s={},l=(0,u.Ps)(c());var f=function(){var n,e=(0,r.P)({controlName:"flag-ghostwriter-chat-ext"}),t=function(n){var e=(0,o.Z)({},s,n);return a.a(l,e)}().data,i="UserPowerUpsTypes"===(null===t||void 0===t||null===(n=t.currentUser)||void 0===n?void 0:n.userPowerUpsByType.__typename)&&t.currentUser.userPowerUpsByType.ghostwriter.active;return e||i}},61794:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(94660),o=t(29356),i=t.n(o),u=t(58530),a=t(36918),c=function(n){var e=n.onClick;return(0,r.tZ)(u.u,{tooltip:"Clear",placement:"bottom-start",children:(0,r.BX)("button",{"aria-label":"Clear",onClick:e,css:u.l0.focusRing,className:"jsx-fba03c32cb6e41ee",children:[(0,r.tZ)(a.Z,{size:16}),(0,r.tZ)(i(),{id:"fba03c32cb6e41ee",children:"button.jsx-fba03c32cb6e41ee{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-4);background-color:var(--background-root);color:var(--foreground-default);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s;border:none;cursor:pointer}button.jsx-fba03c32cb6e41ee:hover{background-color:var(--background-higher)}button.jsx-fba03c32cb6e41ee:focus{outline:none}"})]})})}},56670:function(n,e,t){t.d(e,{l:function(){return c}});var r=t(94660),o=t(29356),i=t.n(o),u=t(58530),a=t(95360),c=function(n){var e=n.onClick;return(0,r.tZ)(u.u,{tooltip:"Search",placement:"bottom-start",children:(0,r.BX)("button",{"aria-label":"Search",onClick:e,css:u.l0.focusRing,className:"jsx-fba03c32cb6e41ee",children:[(0,r.tZ)(a.Z,{size:16}),(0,r.tZ)(i(),{id:"fba03c32cb6e41ee",children:"button.jsx-fba03c32cb6e41ee{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-4);background-color:var(--background-root);color:var(--foreground-default);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s;border:none;cursor:pointer}button.jsx-fba03c32cb6e41ee:hover{background-color:var(--background-higher)}button.jsx-fba03c32cb6e41ee:focus{outline:none}"})]})})}},95555:function(n,e,t){t.d(e,{R:function(){return s}});var r=t(94660),o=t(29356),i=t.n(o),u=t(58530),a=t(44542),c=t(59496);function s(n){var e=n.findNext,t=n.findPrevious,o=n.exit,s=(0,c.useRef)(null),l=(0,c.useState)(""),f=l[0],d=l[1];(0,c.useEffect)((function(){s.current&&s.current.focus()}),[]);return(0,r.BX)("div",{className:"jsx-d22d76e8545c71ca search",children:[(0,r.tZ)("input",{ref:s,placeholder:"Find",value:f,onChange:function(n){return d(n.target.value)},onKeyDown:function(n){return function(n){"Escape"!==n.key?"Enter"===n.key&&(n.shiftKey?t(f):e(f)):o()}(n)},css:[u.l0.focusRing],className:"jsx-d22d76e8545c71ca"}),(0,r.tZ)(a.Z,{size:"small",onClick:function(){return e(f)},children:"Next"}),(0,r.tZ)(a.Z,{size:"small",onClick:function(){return t(f)},children:"Previous"}),(0,r.tZ)(a.Z,{size:"small",onClick:o,children:"Exit"}),(0,r.tZ)(i(),{id:"d22d76e8545c71ca",children:".search.jsx-d22d76e8545c71ca{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:30px}input.jsx-d22d76e8545c71ca{padding:4px var(--space-8)var(--space-4);background-color:var(--background-default);color:var(--white);height:24px;width:85px;border:none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}input.jsx-d22d76e8545c71ca::-webkit-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:-moz-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::-moz-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:-ms-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::-ms-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:focus{outline:none;border:var(--accent-primary-default)}input.jsx-d22d76e8545c71ca,.search button{margin:0 var(--space-4)}"})]})}},96939:function(n,e,t){t.d(e,{Z:function(){return Y}});var r,o=t(2272),i=t(94660),u=t(59496),a=t(58530),c=t(27400),s=t(81525),l=t(72030),f=t(89702),d=t(61262),p=t(57627);function h(n,e){var t,o;switch(n){case r.Init:t="5%",o="Loading...";break;case r.Booting:o="Booting Repl",t="20%";break;case r.LoadingFiles:o="Downloading files",t="".concat(Math.floor(20+70*e).toString(),"%");break;case r.Ready:o="Ready",t="100%";break;default:(0,d.Z)(n)}return{percentString:t,message:o}}!function(n){n.Init="Init",n.Booting="Booting",n.LoadingFiles="LoadingFiles",n.Ready="Ready"}(r||(r={}));var g=(0,l.F4)({"0%":{opacity:0,top:0},"100%":{opacity:1,top:"-25px"}});function v(n){var e=n.onBootStatus,t=n.initialRunState,o=(0,u.useState)({current:t===p.A.OFFLINE?r.Init:r.Ready,previous:null}),a=o[0],c=o[1],s=(0,u.useState)(0),l=s[0],d=s[1];(0,u.useEffect)((function(){var n=0,t=0,o=null,i=null,u=function(){n=0,t=0,o=null,i&&(clearInterval(i),i=null)},a=e((function(e){var a;switch(function(e){var r=e.stage,a=e.progress,c=e.total;if(i&&clearInterval(i),r!==f.api.BootStatus.Stage.PULL_FILES&&r!==f.api.BootStatus.Stage.LOAD_BLOCK||!c)return u(),void d(0);if(!(n>a)&&t!==a){var s=Date.now(),l=0;l=o?(a-t)/(s-o)*50:5e4,o=s,t=a,i=setInterval((function(){(n+=l)>c&&(n=c),n=Math.max(n,a),d(n/c)}),50)}}(e),e.stage){case f.api.BootStatus.Stage.ACQUIRING:a=r.Booting;break;case f.api.BootStatus.Stage.PULL_FILES:case f.api.BootStatus.Stage.LOAD_BLOCK:a=r.LoadingFiles;break;case f.api.BootStatus.Stage.COMPLETE:a=r.Ready;break;default:return}c((function(n){return n.current===a?n:{current:a,previous:n.current}}))}));return function(){u(),a()}}),[e]);var v=a.previous?h(a.previous,1):null,E=h(a.current,l);return(0,i.BX)("div",{css:{position:"absolute",left:"25%",right:"25%",top:"45%",backgroundColor:"transparent",color:"white",transition:"all 1s 0.5s",opacity:a.current===r.Ready?0:1},children:[(0,i.BX)("div",{children:[v?(0,i.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-100px",opacity:0,transition:"top 0.4s, opacity 0.4s"},children:[v.message,a.previous===r.LoadingFiles&&" 100%"]},v.message):null,(0,i.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-25px",opacity:1,animationName:g.toString(),animationDuration:"0.6s"},children:[E.message,a.current===r.LoadingFiles&&" ".concat(E.percentString)]},E.message)]}),(0,i.tZ)("div",{css:{background:"none",border:"solid white 1px",borderRadius:"10px"},children:(0,i.tZ)("div",{css:{height:"5px",width:E.percentString,backgroundColor:"#fff",transition:"width cubic-bezier(0.28, 0.26, 0.33, 1) 2s"}})})]})}var E=t(50270);var m=t(95555),b=t(56670),T=t(61794),y=t(42882),S=t(69978),w=t(36324),R=t(56580),_=t(57135),A=t(96583),C=t(75695),q=t(51954),x=/(((\w+Error)|(Error)): (.*)\r\n((?:\s+at .*\r\n)+))|(\/home\/runner(.*):\d+\r\n[\s\S]*((\w+Error)|(Error)): (.*)\r\n)/g,I=/(Traceback.*\r\n)?( +File.*(\r\n.*){1,2})*\r\n.*((\wError:)|(Exception:)).*/g,k=/\x1b\[31m(.|\r\n)*?\x1b\[(.*?)m/g,N=/(\x1b\[(.*?)m)/g;var O=t(57523),Z=t(33575),L=t(12922);function U(n){var e=n.runner,t=(0,O.R$)(),r=(0,u.useState)(p.A.IDLE),i=r[0],a=r[1],c=(0,o.Z)((0,C.u0)(),2),s=c[0],l=c[1],f=(0,C.dp)(),d=(0,o.Z)((0,C.Kz)(),2),h=d[0],g=d[1],v=(0,Z.d)(),E=(0,L.P)({controlName:"flag-ghostwriter-enable-generic-debugger"}),m=(0,L.P)({controlName:"flag-ghostwriter-enable-debugger-error-logging"}),b=(0,u.useCallback)(function(){var n=(0,_.Z)((function(n){return(0,A.__generator)(this,(function(e){return"unknown"!==t||E?(g((function(e){return(e+n).slice(-2400)})),[2]):[2]}))}));return function(e){return n.apply(this,arguments)}}(),[E,t,g]),T=(0,u.useCallback)((function(n){("unknown"!==t||E)&&n!==i&&(a(n),n!==p.A.RUNNING||f())}),[f,E,t,i]);return(0,u.useEffect)((function(){var n=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";return"nodejs"===e?null!==n.match(x):"python3"===e?null!==n.match(I):null!==n.match(k)}(h,t);if(n){var e=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",t=n.replace(N,""),r=null;return(r="nodejs"===e?t.match(x):"python3"===e?t.match(I):n.match(k))?r[r.length-1].replace(N,""):(q.kg.error("Ghostwriter Chat Debugger had no error - this should not have happened",{errorBuffer:n,interpreter:e}),"")}(h,t);l(e)}}),[h,t,l]),(0,u.useEffect)((function(){s&&m&&q.kg.info("Ghostwriter Debugger Error Triggered",{parsedError:s,inferredInterpreter:t})}),[m,t,s]),(0,u.useEffect)((function(){if(v&&"shellrunner"===e.mode){var n=[e.onOutput(b),e.onStateChanged(T)];return function(){n.forEach((function(n){return n()}))}}}),[v,e,b,T]),{hasAccessToChatDebugger:v,parsedError:s,clearDebug:f}}var P=t(3342),D=t(92398),F=t(63281),B=t(21477),j=t(38649),z=t(92555),G=t(56553),Q=t(19540),M=t(56579),X=t(54703),K=(0,l.iv)([a.l0.flex.row,a.l0.align.center,a.l0.justify.end,a.l0.position.absolute,a.l0.top(8),a.l0.right(8),a.l0.minHeight(30),{opacity:"0",zIndex:100}]),W=(0,l.iv)([a.l0.flex.row,a.l0.align.center,a.l0.justify.end,a.l0.position.absolute,a.l0.pl(8),a.l0.bottom(8),a.l0.right(8),a.l0.minHeight(30),{zIndex:100}]),H=function(n,e){var t=n.tracker,r=n.runner,l=n.debugClient,f=n.packager,d=n.onBootStatus,h=(0,X.useRouter)(),g=(0,o.Z)(function(n){var e=n.tracker,t=n.runner,r=n.debugClient,i=n.packager,a=(0,o.Z)((0,s.Z)(),2),c=a[0],l=a[1],f=(0,u.useState)(""),d=f[0],h=f[1],g=e||function(){};return(0,u.useEffect)((function(){if(!c)return t.onOutput((function(n){return h((function(e){return e+n}))}))}),[c,t,h]),(0,u.useEffect)((function(){if(!c&&i)return i.onOutput((function(n){return h((function(e){return e+n.replace(/\n/g,"\n\r")}))}))}),[c,i,h]),(0,u.useEffect)((function(){var n=function(n){if(!c)throw new Error("Expected xterm");c.write(n.replace(/\n/g,"\n\r"))};if(c&&i){var e=i.onOutput((function(e){n(e)})),t=i.onError((function(){return n("\x1b[31m\n\nReplit: Package operation failed.\x1b[00m")})),r=i.onStateChanged((function(e){e&&n("\n\nReplit: Updating package configuration\n\n")}));return function(){e(),t(),r()}}}),[c,i]),(0,u.useEffect)((function(){d&&c&&(g("user:run:output",{bufferedOutput:d}),c.write(d),h(""))}),[c,d]),(0,u.useEffect)((function(){if(c){var n=function(){t.getRunState()!==p.A.OFFLINE&&t.resizeTerminal(c.getSize())},e=[];e.push(c.onResize(n).dispose);var o=[];e.push(c.onData((function(n){var e=(0,E.I)(n);"running"!==(null===r||void 0===r?void 0:r.state.current)?t.getRunState()!==p.A.OFFLINE?t.sendInput(e):o.push(e):r.sendInput(e)})).dispose),e.push(t.onOutput((function(n){g("user:run:output",{output:n}),c.write(n)})));var i=!1;return e.push(t.onStateChanged((function(e){if(e!==p.A.OFFLINE){if(i||(n(),i=!0),o.length){var r=!0,u=!1,a=void 0;try{for(var c,s=o[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value;t.sendInput(l)}}catch(f){u=!0,a=f}finally{try{r||null==s.return||s.return()}finally{if(u)throw a}}o=[]}}else i=!1}))),t.getRunState()!==p.A.OFFLINE&&(n(),i=!0),function(){e.forEach((function(n){return n()}))}}}),[c,t,r]),[c,l,h]}({tracker:t,runner:r,debugClient:l,packager:f}),3),_=g[0],A=g[1],C=g[2],q=(0,o.Z)(u.useState(!1),2),x=q[0],I=q[1],k=U({runner:r}),N=k.hasAccessToChatDebugger,O=k.parsedError,Z=k.clearDebug,L=(0,j.T3)(),P="/replEnvironmentDesktop"===h.pathname,D=N&&P&&Boolean(O);u.useEffect((function(){return function(){Z()}}),[Z]);var F=(0,R.Z)().preferences.accessibleTerminal,B=(0,s.a)();u.useImperativeHandle(e,(function(){return{write:function(n){_?_.write(n):C((function(e){return e+n.replace(/\n/g,"\n\r")}))},clear:function(){_&&_.clear()},focus:function(){_&&_.focus()}}}));var z=(0,y.Z)(S.y.Output);return(0,i.BX)(a.G7,{css:[G.EA.container,B],onKeyDown:function(n){"f"===n.key&&(0,c.j)(n)&&!n.shiftKey&&(I(!0),n.preventDefault())},innerRef:z,children:[(0,i.BX)(a.G7,{css:K,className:"controls",children:[x&&_?(0,i.tZ)(m.R,{findPrevious:_.findPrevious,findNext:_.findNext,exit:function(){return I(!1)}}):(0,i.tZ)(b.l,{onClick:function(){return I(!0)}}),(0,i.tZ)(T.Z,{onClick:function(){_&&(_.clear(),_.focus(),Z())}})]}),D?(0,i.tZ)(V,{clearDebug:Z,parsedError:O}):null,F?null:(0,i.tZ)(w.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the console.'}),(0,i.tZ)(a.G7,{css:L?G.EA.xterm:G.EA.xtermWithBorderRadius,innerRef:A}),d?(0,i.tZ)(v,{initialRunState:r.getRunState(),onBootStatus:d}):null]})};function V(n){var e=n.clearDebug,t=n.parsedError,r=(0,M.Z)(),o=r.fs,u=r.dotReplit,c=(0,Q.Bx)(),s=(0,F.ql)(),l=(0,D.dK)();return(0,i.tZ)(a.G7,{css:W,children:(0,i.tZ)(a.uj,{icon:(0,i.tZ)(P.Z,{}),text:"Code error detected. Debug with Ghostwriter?",colorway:"blurple",closable:!0,closeAction:function(){e()},onClick:function(){if(t){if(!o||!u)throw new Error("Expected fs and dotReplit services");l({type:"ghostwriterChat"}),s({text:(0,z.Vh)(t),type:B.NK.Debugger,fs:o,dotReplit:u,recentFiles:c}),e()}}})})}var Y=u.forwardRef(H)},56553:function(n,e,t){t.d(e,{N2:function(){return I},St:function(){return C},EA:function(){return x}});var r=t(2272),o=t(94660),i=t(59496),u=t(72030),a=t(95555),c=t(56670),s=t(61794),l=t(27400),f=t(36324),d=t(56580),p=t(81525),h=t(58530),g=t(38649),v=t(72905),E=t(27033),m=t(10063),b=t(50270),T=t(57135),y=t(96583),S=t(54703),w=t(54282),R=t(83410);function _(n){var e=n.sendInput,t=(0,S.useRouter)(),r=(0,g.Vg)(t);(0,i.useEffect)((function(){if(r){var n=function(n){var t=n.payload;if((0,w.I9)(t))!function(n,t){e(t)?(0,R.gU)(n.messageId):(0,R.pl)(n.messageId)}(n,t.input);else if((0,w.Fq)(t))if("unknown"===t.command);else(0,R.pl)(n.messageId);else(0,R.pl)(n.messageId)},t=function(){var e=(0,T.Z)((function(e){var t;return(0,y.__generator)(this,(function(r){try{if(t=e.data,!(0,w.CF)(t))return[2];if(t.protocolVersion!==w.Wj)return[2];switch(t.payload.messageType){case w.cF.ERROR:case w.cF.ACK:case w.cF.RESET:case w.cF.DEBUG:case w.cF.WORKSPACE_STATE:case w.cF.WORKSPACE_STATE_REQUEST:case w.cF.WORKSPACE_REQUEST_ACTION:case w.cF.SET_KEYBOARD_STATE:case w.cF.TEXT_EDITOR_STATE:case w.cF.TEXT_EDITOR_CLOSED:case w.cF.TEXT_EDITOR_STATE_REQUEST:case w.cF.REQUEST_SET_SELECTION:case w.cF.REQUEST_REPLACE_SELECTION:case w.cF.REQUEST_SET_TEXT:case w.cF.REQUEST_INSERT_TEXT:case w.cF.REQUEST_PASTE_TEXT:case w.cF.TEXT_EDITOR_REQUEST_ACTION:break;case w.cF.SHELL_INSERT_INPUT:case w.cF.SHELL_COMMAND:n(t);break;default:throw new Error("Unknown BridgeMessageType.")}}catch(o){throw new Error("Invalid message: ".concat(o))}return[2]}))}));return function(n){return e.apply(this,arguments)}}();return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}}),[r,e])}var A=t(27741);function C(n){var e,t=n.autoFocus,o=n.onShellKey,u=n.container,a=(0,r.Z)((0,p.Z)(),2),c=a[0],s=a[1],l=(0,E.Z)({service:"shell",container:u}),f=(0,A.K)({channelId:null===l||void 0===l||null===(e=l.channel)||void 0===e?void 0:e.id}),d="",h="",g="",T=i.useCallback((function(n){if(!l.channel||!c)return!1;var e=u.client();if(!l.channel||"open"!==l.channel.status||e.getConnectionState()!==v.em.CONNECTED)return!1;var t=(0,b.I)(n);return l.channel.send({input:t}),!0}),[c,l,u]);return _({sendInput:T}),i.useEffect((function(){if(l.channel&&c&&"open"===l.channel.status){var n=c.onKey((function(n){var e=n.key,t=n.domEvent;if("\r"===e){(0,m.j)(m.U3.SHELL_COMMAND_EVALED);var r=h;h.endsWith(d)&&d.length>0&&(r=h.slice(0,-d.length)),f("user:shell:output:clean",{output:r,command:g}),f("user:shell:exec",{command:d}),f("user:shell:output",{output:h}),g=d,d="",h=""}else d+=e;o&&o(t)})),e=u.client(),t=c.onData((function(n){T(n)}));l.channel.onCommand((function(n){n.hint?c.write("\x1b[0m\x1b[33m".concat(n.hint.text,"\x1b[0m\r\n")):n.output&&(c.write(n.output),h+=n.output)}));var r=function(){l.channel&&"open"===l.channel.status&&e.getConnectionState()===v.em.CONNECTED&&l.channel.send({resizeTerm:c.getSize()})},i=c.onResize(r);return r(),function(){n.dispose(),t.dispose(),i.dispose()}}}),[l.channel,c,o,u,T]),i.useEffect((function(){t&&c&&c.focus()}),[t,c]),[c,s]}var q=(0,u.iv)([h.l0.height("100%"),h.l0.overflow("hidden"),{"& .xterm":[h.l0.pl(8),h.l0.pt(8),h.l0.pb(4),h.l0.height("100%")]}]),x=(0,h.Xb)({container:[h.l0.coverContainer,{"&:focus-within .controls":{opacity:1}}],xterm:q,xtermWithBorderRadius:[q,{"& .xterm-viewport":[h.l0.borderRadius(0,0,8,8)]}]});function I(n){var e=n.shell,t=n.shellRef,u=n.className,v=(0,d.Z)().preferences.accessibleTerminal,E=(0,r.Z)(i.useState(!1),2),m=E[0],b=E[1],T=m&&e?(0,o.tZ)(a.R,{findPrevious:e.findPrevious,findNext:e.findNext,exit:function(){return b(!1)}}):(0,o.tZ)(c.l,{onClick:function(){return b(!0)}}),y=(0,p.a)(),S=(0,g.T3)();return(0,o.BX)(h.G7,{className:u,css:[x.container,y],onKeyDown:function(n){"f"===n.key&&(0,l.j)(n)&&(b(!0),n.preventDefault())},children:[!v&&(0,o.tZ)(f.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the shell.'}),(0,o.tZ)(h.G7,{css:S?x.xterm:x.xtermWithBorderRadius,innerRef:t}),e?(0,o.BX)(h.G7,{className:"controls",css:[h.l0.position.absolute,h.l0.flex.row,h.l0.top(8),h.l0.right(8),h.l0.height(30),h.l0.align.center,{opacity:0,zIndex:4}],children:[T,(0,o.tZ)(s.Z,{onClick:e.clear})]}):(0,o.tZ)("code",{css:[h.l0.color.foregroundDimmest,h.l0.coverContainer,h.l0.p(8)],children:"Loading..."})]})}},65253:function(n,e,t){t.d(e,{NH:function(){return s},Qt:function(){return f},R3:function(){return l},p5:function(){return d}});var r,o=t(58513),i=t(46862),u=(0,o.cn)(null),a=(0,o.cn)((function(n){var e;return null!==(r=null===(e=n(u))||void 0===e?void 0:e.path)&&void 0!==r?r:null})),c=(0,o.cn)(null,(function(n,e,t,r){switch(r.type){case"focus":return void e(u,{hasFocus:!0,position:r.position,path:t});case"update":return void e(u,(function(n){return{hasFocus:Boolean(null===n||void 0===n?void 0:n.hasFocus),position:r.position,path:t}}));case"blur":var o;return void e(u,(function(n){return{hasFocus:Boolean(null===n||void 0===n?void 0:n.hasFocus),position:null!==(o=null===n||void 0===n?void 0:n.position)&&void 0!==o?o:{line:1,column:1,offset:0},path:t}}))}}));function s(){return(0,i.$X)(c)}function l(){return(0,i.Hg)(a)}function f(){return(0,i.XD)(u)}function d(){return(0,i.yL)(u)}},19540:function(n,e,t){t.d(e,{eA:function(){return q},ex:function(){return v},zo:function(){return T},R3:function(){return w.R3},pV:function(){return m},Qt:function(){return w.Qt},AA:function(){return y},b2:function(){return C},Bx:function(){return b},VX:function(){return E},Cp:function(){return A},Gg:function(){return g},QH:function(){return S}});var r=t(94660),o=t(46862),i=t(9970),u=t(92153),a=t(58513),c=t(3030),s=t(59496),l=t(28609),f=(0,a.cn)(null),d=(0,a.cn)([]),p=(0,a.cn)(null,(function(n,e,t){var r=n(d),o=[t].concat((0,i.Z)(r.filter((function(n){return n!==t})))).slice(0,20);e(d,o)})),h=(0,a.cn)(null,(function(n,e,t){var r=n(d),o=r.indexOf(t.path);-1!==o&&e(d,(0,u.ZP)(r,(function(n){"delete"===t.type?n.splice(o,1):n.splice(o,1,t.to)})))}));function g(){return(0,o.$X)(h)}function v(){return(0,o.Hg)(f)}function E(){return(0,o.$X)(f)}function m(){return(0,o.XD)(f)}function b(){return(0,o.Hg)(d)}function T(){return(0,o.$X)(p)}function y(){return(0,c.lV)((0,s.useCallback)((function(n){return n(d)}),[]))}function S(){var n=(0,o.yL)(f);return(0,l.Z)((function(){return function(e){return n.subscribe(e)}}),[n])}var w=t(65253),R=(0,a.cn)({chat:"unread"}),_=(0,a.cn)(null,(function(n,e,t){e(R,(function(n){return(0,u.ZP)(n,(function(n){t.indicatorType?n[t.paneType]=t.indicatorType:delete n[t.paneType]}))}))}));function A(){return(0,o.$X)(_)}function C(n){var e=n.paneType;return(0,o.Hg)(function(n){var e=n.paneType;return(0,l.Z)((function(){return(0,a.cn)((function(n){return e?n(R)[e]:void 0}))}),[e])}({paneType:e}))}function q(n){var e=(0,o.ns)();return(0,r.tZ)(o.B3.Provider,{value:e,children:n.children})}},46862:function(n,e,t){t.d(e,{$X:function(){return p},B3:function(){return s},Hg:function(){return f},XD:function(){return h},ns:function(){return c},yL:function(){return d}});var r=t(59496),o=t(58513),i=t(57011),u=t(3030),a=t(30300);function c(){return(0,r.useState)((function(){return(0,o.MT)()}))[0]}var s=(0,r.createContext)(null);function l(){var n=(0,r.useContext)(s);if(!n)throw new Error("Expected store in context");return n}function f(n){return(0,i.Dv)(n,{store:l()})}function d(n){return(0,a.b)(n,l())}var p=function(n){return(0,i.b9)(n,{store:l()})};function h(n){return(0,u.lV)((0,r.useCallback)((function(e){return e(n)}),[n]),{store:l()})}},81525:function(n,e,t){t.d(e,{Z:function(){return U},a:function(){return l.a}});var r=t(57135),o=t(2272),i=t(96583),u=t(59496),a=t(88254),c=t(43589),s=t(16092),l=t(54874),f="replit-icons-font";function d(){if(!document.getElementById(f)){var n=document.createElement("style");n.id=f,n.type="text/css",n.appendChild(document.createTextNode("\n@font-face {\n  font-family: 'replit-icons';\n  font-style: normal;\n  font-weight: normal;\n  font-stretch: normal;\n  src: url(".concat("/public/fonts/replit-icons.woff",") format('woff'),\n    url(").concat("/public/fonts/replit-icons.ttf",") format('truetype');\n}"))),document.head.appendChild(n)}}var p="BESbswy",h=3e3;function g(n){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)((function(n){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return document.fonts?[4,m(document.fonts,n)]:[3,2];case 1:case 3:return e.sent(),[2];case 2:return[4,Promise.all([T("serif",n),T("sans-serif",n),T("monospace",n)])]}}))}))).apply(this,arguments)}function E(n){var e=n.family,t=n.style,r=void 0===t?"normal":t,o=n.weight,i=void 0===o?"normal":o;return"".concat(r," ").concat(i," 100px ").concat(e)}function m(n,e){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)((function(n,e){var t,r,o,u,a,c;return(0,i.__generator)(this,(function(i){return t=e.fontInfo,r=e.characters,o=void 0===r?p:r,u=e.timeout,a=void 0===u?h:u,c=E(t),[2,new Promise((function(e,t){var r=!1,i=setTimeout((function(){r=!0,t(new Error("Font loading timed out"))}),a);n.load(c,o).then((function(){r||(clearTimeout(i),e())})).catch((function(n){r||(clearTimeout(i),t(n))}))}))]}))}))).apply(this,arguments)}function T(n,e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)((function(n,e){var t,r,o,u,a,c,s,l,f;return(0,i.__generator)(this,(function(i){return t=e.fontInfo,r=e.characters,o=void 0===r?p:r,u=e.timeout,a=void 0===u?h:u,c=E(t),(s=document.createElement("span")).innerText=o,s.style.font="normal normal 100px ".concat(n),s.style.position="absolute",s.style.left="-9999px",s.style.top="-9999px",document.body.appendChild(s),l=s.offsetWidth,s.style.font=c,(f=function(){return l!==s.offsetWidth})()?[2]:[2,new Promise((function(n,e){var r=setInterval((function(){f()&&(clearInterval(r),clearTimeout(o),document.body.removeChild(s),n())}),50),o=setTimeout((function(){clearInterval(r),document.body.removeChild(s),f()?n():e(new Error("Font loading timed out "+t.family))}),a)}))]}))}))).apply(this,arguments)}function S(n){a.Tb(n)}var w='"ReplitHack"',R=400,_=700,A=String.fromCharCode(61095);function C(){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)((function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return d(),[4,Promise.all([g({fontInfo:{family:"replit-icons"},characters:A}).catch(S),g({fontInfo:{family:w,weight:R.toString()}}).catch(S),g({fontInfo:{family:w,weight:R.toString(),style:"italic"}}).catch(S),g({fontInfo:{family:w,weight:_.toString()}}).catch(S),g({fontInfo:{family:w,weight:_.toString(),style:"italic"}}).catch(S)])];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}var x,I=t(30826);var k=t.n(I)()((function(){if("undefined"!==typeof AudioContext){var n=(x||(x=new AudioContext),x),e=n.createBufferSource();n.decodeAudioData(function(n){for(var e=window.atob(n),t=e.length,r=new Uint8Array(t),o=0;o<t;o++)r[o]=e.charCodeAt(o);return r.buffer}("SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),(function(t){e.buffer=t,e.connect(n.destination),e.start(0)}))}}),500,{leading:!0,trailing:!0}),N=t(56580),O=t(81174),Z=t(51458);function L(){return Promise.all([t.e(809).then(t.t.bind(t,63776,23)),t.e(3214).then(t.t.bind(t,13214,23)),t.e(5303).then(t.t.bind(t,75303,23)),t.e(3778).then(t.t.bind(t,73778,23)),t.e(1561).then(t.t.bind(t,51561,23)),t.e(4440).then(t.bind(t,64440)),t.e(6575).then(t.t.bind(t,36575,23))])}function U(){var n=(0,u.useState)(null),e=n[0],a=n[1],s=(0,u.useState)(null),f=s[0],d=s[1],p=(0,l.f)(),h={screenReaderMode:(0,N.Z)().preferences.accessibleTerminal,fileLinking:function(){var n=(0,u.useContext)(O.Z);return(0,u.useMemo)((function(){return n?{listFiles:n.fs.listFiles,openFile:n.session.openFile}:null}),[n])}(),terminalTheme:p},g=(0,Z.Z)(h),v=(0,c.Z)((function(){return null===f||void 0===f?void 0:f.fit()}),{type:"debounce",wait:200}),E=(0,u.useRef)(null);return(0,u.useLayoutEffect)((function(){if(e){var n=[];return function(){t.apply(this,arguments)}(),function(){n.forEach((function(n){return n()}))}}function t(){return t=(0,r.Z)((function(){var t,r,u,a,c,s,l,f,p,h,m,b,T,y,S,A;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([L(),C()])];case 1:return t=o.Z.apply(void 0,[i.sent(),1]),r=(0,o.Z)(t[0],7),u=r[0].Terminal,a=r[1].FitAddon,c=r[2].SearchAddon,s=r[3].WebLinksAddon,l=r[4].Unicode11Addon,f=r[5].FileLinkAddon,p=r[6].CanvasAddon,e?(h=new u({allowProposedApi:!0,cursorBlink:!1,scrollback:1e3,tabStopWidth:4,fontFamily:"".concat(w,', replit-icons, Monaco, "Ubuntu Mono", Consolas, monospace'),fontSize:14,lineHeight:1,fontWeight:R,fontWeightBold:_,drawBoldTextInBrightColors:!1,minimumContrastRatio:4.5,theme:g.current.terminalTheme,screenReaderMode:g.current.screenReaderMode}),g.current.fileLinking?(E.current=new f(g.current.fileLinking.openFile,g.current.fileLinking.listFiles),h.loadAddon(E.current)):E.current=null,m=new a,h.loadAddon(m),b=new s,h.loadAddon(b),T=new c,h.loadAddon(T),y=new l,h.loadAddon(y),h.unicode.activeVersion="11",h.onBell(k),h.open(e),n.push((function(){return h.dispose()})),S=new p,h.loadAddon(S),h.attachCustomKeyEventHandler((function(n){return P(h,n)})),A=!1,h.attachCustomKeyEventHandler((function(n){return"shift"===n.key.toLowerCase()||"ctrl"===n.key.toLowerCase()||"alt"===n.key.toLowerCase()||"meta"===n.key.toLowerCase()||("tab"!==n.key.toLowerCase()||!A)&&(A="escape"===n.key.toLowerCase(),!0)})),d({onKey:h.onKey.bind(h),onData:h.onData.bind(h),onResize:h.onResize.bind(h),write:h.write.bind(h),fit:function(){var n=e.getBoundingClientRect(),t=n.width,r=n.height;t>0&&r>0&&m.fit()},focus:function(){return h.focus()},clear:function(){return h.clear()},findPrevious:function(n){return T.findPrevious(n)},findNext:function(n){return T.findNext(n)},getSize:function(){return{cols:h.cols,rows:h.rows}},_term:h}),v(e),[2]):[2]}}))})),t.apply(this,arguments)}}),[e,v,g]),function(n,e,r){var o=r.screenReaderMode,i=r.fileLinking,a=r.terminalTheme;(0,u.useEffect)((function(){n&&a&&(n.options.theme=a)}),[n,a]),(0,u.useEffect)((function(){n&&(n.options.screenReaderMode=o)}),[n,o]),(0,u.useEffect)((function(){if(n)if(i){if(!e.current){var r=!1;return t.e(4440).then(t.bind(t,64440)).then((function(t){var o=t.FileLinkAddon;r||(e.current=new o(i.openFile,i.listFiles),n.loadAddon(e.current))})),function(){r=!0}}e.current.update(i.openFile,i.listFiles),e.current.reactivate()}else e.current&&e.current.deactivate()}),[n,i,e])}(null===f||void 0===f?void 0:f._term,E,h),[f,a]}function P(n,e){return!window.navigator.clipboard||("c"!==e.key.toLowerCase()||!e.ctrlKey||!e.shiftKey||("keyup"===e.type&&n.hasSelection()&&(0,s.Z)(n.getSelection()).catch((function(n){a.$e((function(e){e.setTag("xterm-clipboard",!0),e.setExtra("type","copy"),a.Tb(n)}))})),e.preventDefault(),e.stopPropagation(),!1))}},50270:function(n,e,t){t.d(e,{I:function(){return i}});var r="\x1b[200~",o="\x1b[201~";function i(n){return function(n){return n.startsWith(r)&&n.endsWith(o)}(n)?n.slice(r.length,n.length-o.length):n}},54874:function(n,e,t){t.d(e,{a:function(){return a},f:function(){return c}});var r=t(49356),o=t(42301),i=t(215),u=t(59496);function a(){var n={};return(0,r.F)().theme.id===o.Dy.id&&(n=(0,i.zL)(o.Sj.values)),n}function c(){var n=(0,r.F)(),e=n.theme,t=n.values;return(0,u.useMemo)((function(){return e.id===o.Dy.id?s(o.Sj.values):s(t)}),[e,t])}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Sj.values;return{foreground:n.global.foregroundDefault,background:n.global.backgroundDefault,cursor:n.global.foregroundDefault,cursorAccent:n.global.backgroundHigher,selectionBackground:n.global.foregroundDefault,black:n.global.backgroundRoot,red:n.global.redStronger,green:n.global.accentPositiveDefault,yellow:n.global.yellowDefault,blue:n.global.blueStronger,magenta:n.global.magentaDefault,cyan:n.global.tealDefault,white:n.global.foregroundDefault,brightBlack:n.global.outlineDimmest,brightRed:n.global.redStrongest,brightGreen:n.global.accentPositiveStronger,brightYellow:n.global.yellowStronger,brightBlue:n.global.blueStrongest,brightMagenta:n.global.magentaStronger,brightCyan:n.global.tealStronger,brightWhite:n.global.foregroundDefault}}},92555:function(n,e,t){t.d(e,{LX:function(){return u},Vh:function(){return a}});var r=t(77363),o={"c#":"cs","c++":"cpp"},i=["c","cs","css","cpp","go","python","java","javascript","html","php","perl","r","sql","apex","rust","ruby"];function u(n,e){var t;if(!n)return"";var u,a=function(e){return(0,r.Z)(n,"Language: ".concat(e))},c=null!==(u=null===(t=o[n])||void 0===t?void 0:t.toLowerCase())&&void 0!==u?u:n,s="<|".concat(c,"|>");return i.includes(c)?a("python"===n?"python 3":s):a(n)}function a(n){var e="Running the code in my project results in the error:";return e+="\n```\n".concat(n,"\n```\n\n")}},77363:function(n,e,t){function r(n,e){switch(n){case"coffeescript":case"dockerfile":case"elixir":case"julia":case"makefile":case"perl":case"python":case"shellscript":case"terraform":case"yaml":return"# ".concat(e);case"sql":case"lua":return"-- ".concat(e);case"html":case"svelte":case"xml":case"xsl":return"\x3c!-- ".concat(e," --\x3e");case"css":return"/* ".concat(e," */");case"tex":case"latex":case"matlab":return"% ".concat(e);case"vb":return"' ".concat(e);case"markdown":return"[]: # ".concat(e);case"handlebars":return"{{!-- ".concat(e," --}}");case"haml":return"-# ".concat(e);case"erb":return"<%# ".concat(e," %>");default:return"// ".concat(e)}}t.d(e,{Z:function(){return r}})},2405:function(n,e,t){t.d(e,{G:function(){return r},Z:function(){return u}});var r,o=t(2272);!function(n){n.NotFound="NotFound",n.NotAllowed="NotAllowed",n.ConcurrentReplLimit="ConcurrentReplLimit",n.FirewallDenied="FirewallDenied",n.LanguageTokenDenied="LanguageTokenDenied"}(r||(r={}));var i={"repl not found":r.NotFound,"not allowed to run at this time":r.NotAllowed,"language tokens are only for logged out people.":r.LanguageTokenDenied,"connect to unfirewalled repl from firewall mode":r.FirewallDenied};function u(n){var e=!0,t=!1,r=void 0;try{for(var u,a=Object.entries(i)[Symbol.iterator]();!(e=(u=a.next()).done);e=!0){var c=(0,o.Z)(u.value,2),s=c[0],l=c[1];if(n.message.toLowerCase().includes(s))return l}}catch(f){t=!0,r=f}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}return null}},46620:function(n,e,t){t.d(e,{MF:function(){return c},TI:function(){return a},lv:function(){return f},uC:function(){return s},yb:function(){return l}});var r=t(47382),o=t(1540),i=t(54829),u=t(78385);function a(n){var e=n.split("/")[0];return e===i.oh||e===i.AS}function c(n){return".env"===n||".breakpoints"===n||".cache"===n||n.startsWith(".cache/")}function s(n){return u.nh.includes(n)}function l(n,e){return Boolean(e&&r.Z.isLangFileBinary(e,n))}function f(n,e){if(!e)return!1;var t=(0,o.Xz)(n),r=!0,i=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value;if(n.match(s))return!0;var l=!0,f=!1,d=void 0;try{for(var p,h=t[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){if(p.value.match(s))return!0}}catch(g){f=!0,d=g}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}}}catch(g){i=!0,u=g}finally{try{r||null==c.return||c.return()}finally{if(i)throw u}}return!1}}}]);
//# sourceMappingURL=7101-a90588c66fe01d55.js.map